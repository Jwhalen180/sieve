2022/03/19 16:50:36 server.go:17: registering rpc server...
2022/03/19 16:50:36 config.go:22: config:
map[crdList:[cassandracluster cassandrarestore cassandrabackup] rateLimiterEnabled:false rateLimiterInterval:3]
2022/03/19 16:50:36 learn_server.go:125: start learnServer...
2022/03/19 16:50:36 learn_server.go:126: rateLimiterEnabled: false
2022/03/19 16:50:36 server.go:28: setting up connection...
2022/03/19 16:50:48 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	pod	default	casskop-operator-546674cfdd-fdnqj	unknown	NoError	{"metadata":{"name":"casskop-operator-546674cfdd-fdnqj","generateName":"casskop-operator-546674cfdd-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/casskop-operator-546674cfdd-fdnqj","uid":"beca2d99-015f-4c8b-bd68-33a1edb0f87e","resourceVersion":"705","creationTimestamp":"2022-03-19T16:50:47Z","labels":{"app":"cassandra-operator","name":"cassandra-operator","operator":"cassandra","pod-template-hash":"546674cfdd","release":"casskop-operator","sievetag":"casskop-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"casskop-operator-546674cfdd","uid":"0fac72b3-4d69-4663-95db-9c995370eb4a","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:47Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:name":{},"f:operator":{},"f:pod-template-hash":{},"f:release":{},"f:sievetag":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"0fac72b3-4d69-4663-95db-9c995370eb4a\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra-operator\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"OPERATOR_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"WATCH_NAMESPACE\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:envFrom":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.2\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"cassandra-operator-token-kcpfk","secret":{"secretName":"cassandra-operator-token-kcpfk","defaultMode":420}}],"containers":[{"name":"cassandra-operator","image":"ghcr.io/sieve-project/action/casskop-operator:learn","command":["casskop"],"envFrom":[{"configMapRef":{"name":"sieve-testing-global-config"}}],"env":[{"name":"KUBERNETES_SERVICE_HOST","value":"kind-control-plane"},{"name":"KUBERNETES_SERVICE_PORT","value":"6443"},{"name":"WATCH_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"OPERATOR_NAME","value":"cassandra-operator"}],"resources":{"limits":{"cpu":"1","memory":"512Mi"},"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"cassandra-operator-token-kcpfk","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-operator","serviceAccount":"cassandra-operator","nodeName":"kind-worker2","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:47Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:48Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:48Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:47Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.2","podIPs":[{"ip":"10.244.2.2"}],"startTime":"2022-03-19T16:50:47Z","containerStatuses":[{"name":"cassandra-operator","state":{"running":{"startedAt":"2022-03-19T16:50:48Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"ghcr.io/sieve-project/action/casskop-operator:learn","imageID":"sha256:46e005e9a7e47383a81bf3ce8cef079359cae5f5c3bda9ba005ee69043e9f69a","containerID":"containerd://c4a4b2dfc247d10956f3291b32c72ceb35b6325c2c63094b391b93c79dfcfeb2","started":true}],"qosClass":"Burstable"}}
2022/03/19 16:50:48 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	configmap	default	casskop-lock	unknown	NotFound	{"metadata":{"creationTimestamp":null}}
2022/03/19 16:50:48 learn_server.go:256: [SIEVE-BEFORE-WRITE]	0
2022/03/19 16:50:48 learn_server.go:263: [SIEVE-AFTER-WRITE]	0	Create	configmap	unknown	NoError	{"metadata":{"name":"casskop-lock","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/casskop-lock","uid":"66e3210c-2773-44ad-b6f3-a8b15d7a2f13","resourceVersion":"710","creationTimestamp":"2022-03-19T16:50:48Z","ownerReferences":[{"apiVersion":"v1","kind":"Pod","name":"casskop-operator-546674cfdd-fdnqj","uid":"beca2d99-015f-4c8b-bd68-33a1edb0f87e"}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"beca2d99-015f-4c8b-bd68-33a1edb0f87e\"}":{".":{},"f:apiVersion":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]}}
2022/03/19 16:50:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	pod	default	casskop-operator-546674cfdd-fdnqj	unknown	NoError	{"metadata":{"name":"casskop-operator-546674cfdd-fdnqj","generateName":"casskop-operator-546674cfdd-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/casskop-operator-546674cfdd-fdnqj","uid":"beca2d99-015f-4c8b-bd68-33a1edb0f87e","resourceVersion":"705","creationTimestamp":"2022-03-19T16:50:47Z","labels":{"app":"cassandra-operator","name":"cassandra-operator","operator":"cassandra","pod-template-hash":"546674cfdd","release":"casskop-operator","sievetag":"casskop-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"casskop-operator-546674cfdd","uid":"0fac72b3-4d69-4663-95db-9c995370eb4a","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:47Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:name":{},"f:operator":{},"f:pod-template-hash":{},"f:release":{},"f:sievetag":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"0fac72b3-4d69-4663-95db-9c995370eb4a\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra-operator\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"OPERATOR_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"WATCH_NAMESPACE\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:envFrom":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.2\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"cassandra-operator-token-kcpfk","secret":{"secretName":"cassandra-operator-token-kcpfk","defaultMode":420}}],"containers":[{"name":"cassandra-operator","image":"ghcr.io/sieve-project/action/casskop-operator:learn","command":["casskop"],"envFrom":[{"configMapRef":{"name":"sieve-testing-global-config"}}],"env":[{"name":"KUBERNETES_SERVICE_HOST","value":"kind-control-plane"},{"name":"KUBERNETES_SERVICE_PORT","value":"6443"},{"name":"WATCH_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"OPERATOR_NAME","value":"cassandra-operator"}],"resources":{"limits":{"cpu":"1","memory":"512Mi"},"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"cassandra-operator-token-kcpfk","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-operator","serviceAccount":"cassandra-operator","nodeName":"kind-worker2","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:47Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:48Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:48Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:47Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.2","podIPs":[{"ip":"10.244.2.2"}],"startTime":"2022-03-19T16:50:47Z","containerStatuses":[{"name":"cassandra-operator","state":{"running":{"startedAt":"2022-03-19T16:50:48Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"ghcr.io/sieve-project/action/casskop-operator:learn","imageID":"sha256:46e005e9a7e47383a81bf3ce8cef079359cae5f5c3bda9ba005ee69043e9f69a","containerID":"containerd://c4a4b2dfc247d10956f3291b32c72ceb35b6325c2c63094b391b93c79dfcfeb2","started":true}],"qosClass":"Burstable"}}
2022/03/19 16:50:49 learn_server.go:256: [SIEVE-BEFORE-WRITE]	1
2022/03/19 16:50:49 learn_server.go:263: [SIEVE-AFTER-WRITE]	1	Create	service	unknown	NoError	{"metadata":{"name":"cassandra-operator-metrics","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-operator-metrics","uid":"d6cd3cf1-525d-4650-ac79-2988692a2245","resourceVersion":"712","creationTimestamp":"2022-03-19T16:50:49Z","labels":{"name":"cassandra-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"Deployment","name":"casskop-operator","uid":"6c75f965-a361-4867-9638-4dc667da18d8","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:49Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"6c75f965-a361-4867-9638-4dc667da18d8\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:ports":{".":{},"k:{\"port\":8383,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:name":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"http-metrics","protocol":"TCP","port":8383,"targetPort":8383}],"selector":{"name":"cassandra-operator"},"clusterIP":"10.96.131.62","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	0	Added	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"719","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:autoPilot":{},"f:autoUpdateSeedList":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:hardAntiAffinity":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{".":{},"f:dc":{}}}}}]},"spec":{"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","runAsUser":999,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]}},"status":{}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	0
2022/03/19 16:50:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	0
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"719","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:autoPilot":{},"f:autoUpdateSeedList":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:hardAntiAffinity":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{".":{},"f:dc":{}}}}}]},"spec":{"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","runAsUser":999,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]}},"status":{}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	2
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	2	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"720","generation":2,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{}},"f:spec":{"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:nodesPerRacks":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","runAsUser":999,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]}},"status":{"phase":"Initializing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	0
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	1	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"720","generation":2,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{}},"f:spec":{"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:nodesPerRacks":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","runAsUser":999,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]}},"status":{"phase":"Initializing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	1
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	1
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"720","generation":2,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{}},"f:spec":{"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:nodesPerRacks":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","runAsUser":999,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]}},"status":{"phase":"Initializing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NotFound	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null},"spec":{},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	3
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	2	Added	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"722","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	3	Create	poddisruptionbudget	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"722","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	2
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	3	Updated	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"724","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	3
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NotFound	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","creationTimestamp":null},"spec":{"selector":null,"template":{"metadata":{"creationTimestamp":null},"spec":{"containers":null}},"serviceName":"","updateStrategy":{}},"status":{"replicas":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	4
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	4	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-cluster","uid":"dcf1e385-91ca-48ba-99fa-c4f27e371d9f","resourceVersion":"726","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	5
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	5	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-cluster-exporter-jmx","uid":"b857f7f7-884b-4515-8bc3-6ecf78f9011d","resourceVersion":"729","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{},"f:k8s-app":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":9500,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":9500}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NotFound	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","creationTimestamp":null},"spec":{"selector":null,"template":{"metadata":{"creationTimestamp":null},"spec":{"containers":null}},"serviceName":"","updateStrategy":{}},"status":{"replicas":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	6
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	4	Added	statefulset	{"metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"733","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	6	Create	statefulset	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"733","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	7
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	4
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	5	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"739","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":2,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:finalizers\":{}},\"f:spec\":{\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:nodesPerRacks\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	5
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	7	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"739","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":2,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:finalizers\":{}},\"f:spec\":{\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:nodesPerRacks\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	6	Added	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"738","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Guaranteed"}}
2022/03/19 16:50:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	1
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	6
2022/03/19 16:50:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	2
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"739","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":2,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:finalizers\":{}},\"f:spec\":{\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:nodesPerRacks\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"724","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"738","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Guaranteed"}}]}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"733","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	8
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	7	Updated	statefulset	{"metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	7
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	8	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	8	Updated	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	9
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	8
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	9	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	10
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	10	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	2
2022/03/19 16:50:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	9	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	9
2022/03/19 16:50:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	3
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"738","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Guaranteed"}}]}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	11
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	11	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	12
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	12	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:50:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	13
2022/03/19 16:50:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	13	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	3
2022/03/19 16:50:53 learn_server.go:279: [SIEVE-BEFORE-HEAR]	10	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"778","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"qosClass":"Guaranteed"}}
2022/03/19 16:50:53 learn_server.go:289: [SIEVE-AFTER-HEAR]	10
2022/03/19 16:50:53 learn_server.go:279: [SIEVE-BEFORE-HEAR]	11	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"780","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:53Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [init-config bootstrap]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":""},{"name":"bootstrap","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"orangeopensource/cassandra-bootstrap:0.1.8","imageID":""}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}
2022/03/19 16:50:53 learn_server.go:289: [SIEVE-AFTER-HEAR]	11
2022/03/19 16:50:55 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	4
2022/03/19 16:50:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:50:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"780","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:53Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [init-config bootstrap]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":""},{"name":"bootstrap","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"orangeopensource/cassandra-bootstrap:0.1.8","imageID":""}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:50:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:55 learn_server.go:256: [SIEVE-BEFORE-WRITE]	14
2022/03/19 16:50:55 learn_server.go:263: [SIEVE-AFTER-WRITE]	14	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:50:55 learn_server.go:256: [SIEVE-BEFORE-WRITE]	15
2022/03/19 16:50:55 learn_server.go:263: [SIEVE-AFTER-WRITE]	15	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:50:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:50:55 learn_server.go:256: [SIEVE-BEFORE-WRITE]	16
2022/03/19 16:50:55 learn_server.go:263: [SIEVE-AFTER-WRITE]	16	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:50:55 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	4
2022/03/19 16:51:00 learn_server.go:279: [SIEVE-BEFORE-HEAR]	12	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"805","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:00Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [bootstrap]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"orangeopensource/cassandra-bootstrap:0.1.8","imageID":""}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}
2022/03/19 16:51:00 learn_server.go:289: [SIEVE-AFTER-HEAR]	12
2022/03/19 16:51:00 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	5
2022/03/19 16:51:00 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:00 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:00 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"805","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:00Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [bootstrap]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"orangeopensource/cassandra-bootstrap:0.1.8","imageID":""}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:00 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:00 learn_server.go:256: [SIEVE-BEFORE-WRITE]	17
2022/03/19 16:51:00 learn_server.go:263: [SIEVE-AFTER-WRITE]	17	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:00 learn_server.go:256: [SIEVE-BEFORE-WRITE]	18
2022/03/19 16:51:00 learn_server.go:263: [SIEVE-AFTER-WRITE]	18	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:00 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:00 learn_server.go:256: [SIEVE-BEFORE-WRITE]	19
2022/03/19 16:51:00 learn_server.go:263: [SIEVE-AFTER-WRITE]	19	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:00 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	5
2022/03/19 16:51:03 learn_server.go:279: [SIEVE-BEFORE-HEAR]	13	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"824","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [bootstrap]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"running":{"startedAt":"2022-03-19T16:51:03Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}
2022/03/19 16:51:03 learn_server.go:289: [SIEVE-AFTER-HEAR]	13
2022/03/19 16:51:04 learn_server.go:279: [SIEVE-BEFORE-HEAR]	14	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"828","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}
2022/03/19 16:51:04 learn_server.go:289: [SIEVE-AFTER-HEAR]	14
2022/03/19 16:51:05 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	6
2022/03/19 16:51:05 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:05 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:05 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"828","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:05 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:05 learn_server.go:256: [SIEVE-BEFORE-WRITE]	20
2022/03/19 16:51:05 learn_server.go:263: [SIEVE-AFTER-WRITE]	20	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:05 learn_server.go:256: [SIEVE-BEFORE-WRITE]	21
2022/03/19 16:51:05 learn_server.go:263: [SIEVE-AFTER-WRITE]	21	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:05 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:05 learn_server.go:256: [SIEVE-BEFORE-WRITE]	22
2022/03/19 16:51:05 learn_server.go:263: [SIEVE-AFTER-WRITE]	22	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:05 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	6
2022/03/19 16:51:10 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	7
2022/03/19 16:51:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:10 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"828","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra backrest-sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"","started":false},{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"cassandra:3.11","imageID":"","started":false}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:10 learn_server.go:256: [SIEVE-BEFORE-WRITE]	23
2022/03/19 16:51:10 learn_server.go:263: [SIEVE-AFTER-WRITE]	23	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:10 learn_server.go:256: [SIEVE-BEFORE-WRITE]	24
2022/03/19 16:51:10 learn_server.go:263: [SIEVE-AFTER-WRITE]	24	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:10 learn_server.go:256: [SIEVE-BEFORE-WRITE]	25
2022/03/19 16:51:10 learn_server.go:263: [SIEVE-AFTER-WRITE]	25	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:10 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	7
2022/03/19 16:51:14 learn_server.go:279: [SIEVE-BEFORE-HEAR]	15	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}
2022/03/19 16:51:14 learn_server.go:289: [SIEVE-AFTER-HEAR]	15
2022/03/19 16:51:15 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	8
2022/03/19 16:51:15 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:15 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:16 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:16 learn_server.go:256: [SIEVE-BEFORE-WRITE]	26
2022/03/19 16:51:16 learn_server.go:263: [SIEVE-AFTER-WRITE]	26	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:16 learn_server.go:256: [SIEVE-BEFORE-WRITE]	27
2022/03/19 16:51:16 learn_server.go:263: [SIEVE-AFTER-WRITE]	27	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:16 learn_server.go:256: [SIEVE-BEFORE-WRITE]	28
2022/03/19 16:51:16 learn_server.go:263: [SIEVE-AFTER-WRITE]	28	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:16 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	8
2022/03/19 16:51:21 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	9
2022/03/19 16:51:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:21 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:21 learn_server.go:256: [SIEVE-BEFORE-WRITE]	29
2022/03/19 16:51:21 learn_server.go:263: [SIEVE-AFTER-WRITE]	29	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:21 learn_server.go:256: [SIEVE-BEFORE-WRITE]	30
2022/03/19 16:51:21 learn_server.go:263: [SIEVE-AFTER-WRITE]	30	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:21 learn_server.go:256: [SIEVE-BEFORE-WRITE]	31
2022/03/19 16:51:21 learn_server.go:263: [SIEVE-AFTER-WRITE]	31	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:21 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	9
2022/03/19 16:51:26 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	10
2022/03/19 16:51:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:26 learn_server.go:256: [SIEVE-BEFORE-WRITE]	32
2022/03/19 16:51:26 learn_server.go:263: [SIEVE-AFTER-WRITE]	32	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:26 learn_server.go:256: [SIEVE-BEFORE-WRITE]	33
2022/03/19 16:51:26 learn_server.go:263: [SIEVE-AFTER-WRITE]	33	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:26 learn_server.go:256: [SIEVE-BEFORE-WRITE]	34
2022/03/19 16:51:26 learn_server.go:263: [SIEVE-AFTER-WRITE]	34	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:26 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	10
2022/03/19 16:51:31 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	11
2022/03/19 16:51:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:31 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:31 learn_server.go:256: [SIEVE-BEFORE-WRITE]	35
2022/03/19 16:51:31 learn_server.go:263: [SIEVE-AFTER-WRITE]	35	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:31 learn_server.go:256: [SIEVE-BEFORE-WRITE]	36
2022/03/19 16:51:31 learn_server.go:263: [SIEVE-AFTER-WRITE]	36	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:31 learn_server.go:256: [SIEVE-BEFORE-WRITE]	37
2022/03/19 16:51:31 learn_server.go:263: [SIEVE-AFTER-WRITE]	37	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:31 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	11
2022/03/19 16:51:36 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	12
2022/03/19 16:51:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:36 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:36 learn_server.go:256: [SIEVE-BEFORE-WRITE]	38
2022/03/19 16:51:36 learn_server.go:263: [SIEVE-AFTER-WRITE]	38	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:36 learn_server.go:256: [SIEVE-BEFORE-WRITE]	39
2022/03/19 16:51:36 learn_server.go:263: [SIEVE-AFTER-WRITE]	39	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:36 learn_server.go:256: [SIEVE-BEFORE-WRITE]	40
2022/03/19 16:51:36 learn_server.go:263: [SIEVE-AFTER-WRITE]	40	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:36 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	12
2022/03/19 16:51:41 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	13
2022/03/19 16:51:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	41
2022/03/19 16:51:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	41	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	42
2022/03/19 16:51:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	42	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	43
2022/03/19 16:51:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	43	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:41 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	13
2022/03/19 16:51:46 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	14
2022/03/19 16:51:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:46 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:46 learn_server.go:256: [SIEVE-BEFORE-WRITE]	44
2022/03/19 16:51:46 learn_server.go:263: [SIEVE-AFTER-WRITE]	44	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:46 learn_server.go:256: [SIEVE-BEFORE-WRITE]	45
2022/03/19 16:51:46 learn_server.go:263: [SIEVE-AFTER-WRITE]	45	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:46 learn_server.go:256: [SIEVE-BEFORE-WRITE]	46
2022/03/19 16:51:46 learn_server.go:263: [SIEVE-AFTER-WRITE]	46	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"753","generation":3,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":4,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":4,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:46 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	14
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	16	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"969","generation":4,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:autoPilot":{},"f:autoUpdateSeedList":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:hardAntiAffinity":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{".":{},"f:dc":{}}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	15
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	16
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"969","generation":4,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":3,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":4,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:autoPilot":{},"f:autoUpdateSeedList":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:hardAntiAffinity":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{".":{},"f:dc":{}}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"746","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	47
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	47	Delete	poddisruptionbudget	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	48
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	17	Deleted	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"0237d9c4-1f23-496d-acc1-629677890ab2","resourceVersion":"970","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":4},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	17
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	18	Added	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"971","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	48	Create	poddisruptionbudget	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"971","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":0}}
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	18
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	49
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	19	Updated	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	19
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	49	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	50
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	50	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	51
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	51	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"973","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":4,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:autoPilot\":{},\"f:autoUpdateSeedList\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:hardAntiAffinity\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{\".\":{},\"f:dc\":{}}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	15
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	20	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"973","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":4,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:autoPilot\":{},\"f:autoUpdateSeedList\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:hardAntiAffinity\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{\".\":{},\"f:dc\":{}}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	16
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	20
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"973","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":4,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:50:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:autoPilot\":{},\"f:autoUpdateSeedList\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:hardAntiAffinity\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{\".\":{},\"f:dc\":{}}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	52
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	52	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	53
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	53	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	54
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	54	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:279: [SIEVE-BEFORE-HEAR]	21	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	16
2022/03/19 16:51:50 learn_server.go:289: [SIEVE-AFTER-HEAR]	21
2022/03/19 16:51:50 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	17
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	55
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	55	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	56
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	56	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:50 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:50 learn_server.go:256: [SIEVE-BEFORE-WRITE]	57
2022/03/19 16:51:50 learn_server.go:263: [SIEVE-AFTER-WRITE]	57	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:50 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	17
2022/03/19 16:51:51 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	18
2022/03/19 16:51:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	58
2022/03/19 16:51:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	58	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	59
2022/03/19 16:51:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	59	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	60
2022/03/19 16:51:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	60	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:51 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	18
2022/03/19 16:51:56 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	19
2022/03/19 16:51:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:51:56 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:51:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:56 learn_server.go:256: [SIEVE-BEFORE-WRITE]	61
2022/03/19 16:51:56 learn_server.go:263: [SIEVE-AFTER-WRITE]	61	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:51:56 learn_server.go:256: [SIEVE-BEFORE-WRITE]	62
2022/03/19 16:51:56 learn_server.go:263: [SIEVE-AFTER-WRITE]	62	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:51:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:51:56 learn_server.go:256: [SIEVE-BEFORE-WRITE]	63
2022/03/19 16:51:56 learn_server.go:263: [SIEVE-AFTER-WRITE]	63	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:51:56 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	19
2022/03/19 16:52:01 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	20
2022/03/19 16:52:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:52:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:01 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:01 learn_server.go:256: [SIEVE-BEFORE-WRITE]	64
2022/03/19 16:52:01 learn_server.go:263: [SIEVE-AFTER-WRITE]	64	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:01 learn_server.go:256: [SIEVE-BEFORE-WRITE]	65
2022/03/19 16:52:01 learn_server.go:263: [SIEVE-AFTER-WRITE]	65	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:01 learn_server.go:256: [SIEVE-BEFORE-WRITE]	66
2022/03/19 16:52:01 learn_server.go:263: [SIEVE-AFTER-WRITE]	66	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:52:01 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	20
2022/03/19 16:52:06 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	21
2022/03/19 16:52:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:52:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"972","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":0,"currentHealthy":0,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:06 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"864","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:51:14Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:06 learn_server.go:256: [SIEVE-BEFORE-WRITE]	67
2022/03/19 16:52:06 learn_server.go:263: [SIEVE-AFTER-WRITE]	67	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:06 learn_server.go:256: [SIEVE-BEFORE-WRITE]	68
2022/03/19 16:52:06 learn_server.go:263: [SIEVE-AFTER-WRITE]	68	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"744","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:06 learn_server.go:256: [SIEVE-BEFORE-WRITE]	69
2022/03/19 16:52:06 learn_server.go:263: [SIEVE-AFTER-WRITE]	69	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:52:06 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	21
2022/03/19 16:52:08 learn_server.go:279: [SIEVE-BEFORE-HEAR]	22	Updated	pod	{"metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}
2022/03/19 16:52:08 learn_server.go:289: [SIEVE-AFTER-HEAR]	22
2022/03/19 16:52:08 learn_server.go:279: [SIEVE-BEFORE-HEAR]	23	Updated	poddisruptionbudget	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:08 learn_server.go:289: [SIEVE-AFTER-HEAR]	23
2022/03/19 16:52:08 learn_server.go:279: [SIEVE-BEFORE-HEAR]	24	Updated	statefulset	{"metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:08 learn_server.go:289: [SIEVE-AFTER-HEAR]	24
2022/03/19 16:52:11 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	22
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"974","generation":5,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}},{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Initializing","lastClusterAction":"Initializing","lastClusterActionStatus":"Ongoing","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraRackStatus":{"dc1-rack1":{"phase":"Initializing","cassandraLastAction":{"status":"Ongoing","name":"Initializing"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	70
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	70	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	71
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	71	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	72
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	72	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1042","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	22
2022/03/19 16:52:11 learn_server.go:279: [SIEVE-BEFORE-HEAR]	25	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1042","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	23
2022/03/19 16:52:11 learn_server.go:289: [SIEVE-AFTER-HEAR]	25
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1042","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":5,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}},{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	73
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	73	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	74
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	74	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	75
2022/03/19 16:52:11 learn_server.go:279: [SIEVE-BEFORE-HEAR]	26	Updated	cassandracluster	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:289: [SIEVE-AFTER-HEAR]	26
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	75	Update	cassandracluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	23
2022/03/19 16:52:11 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	24
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	76
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	76	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	77
2022/03/19 16:52:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	77	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:11 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	24
2022/03/19 16:52:16 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	25
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:16 learn_server.go:256: [SIEVE-BEFORE-WRITE]	78
2022/03/19 16:52:16 learn_server.go:263: [SIEVE-AFTER-WRITE]	78	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:16 learn_server.go:256: [SIEVE-BEFORE-WRITE]	79
2022/03/19 16:52:16 learn_server.go:263: [SIEVE-AFTER-WRITE]	79	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:16 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	25
2022/03/19 16:52:21 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	26
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:21 learn_server.go:256: [SIEVE-BEFORE-WRITE]	80
2022/03/19 16:52:21 learn_server.go:263: [SIEVE-AFTER-WRITE]	80	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:21 learn_server.go:256: [SIEVE-BEFORE-WRITE]	81
2022/03/19 16:52:21 learn_server.go:263: [SIEVE-AFTER-WRITE]	81	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:21 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:21 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	26
2022/03/19 16:52:26 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	27
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:26 learn_server.go:256: [SIEVE-BEFORE-WRITE]	82
2022/03/19 16:52:26 learn_server.go:263: [SIEVE-AFTER-WRITE]	82	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:26 learn_server.go:256: [SIEVE-BEFORE-WRITE]	83
2022/03/19 16:52:26 learn_server.go:263: [SIEVE-AFTER-WRITE]	83	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:26 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	27
2022/03/19 16:52:31 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	28
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:31 learn_server.go:256: [SIEVE-BEFORE-WRITE]	84
2022/03/19 16:52:31 learn_server.go:263: [SIEVE-AFTER-WRITE]	84	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:31 learn_server.go:256: [SIEVE-BEFORE-WRITE]	85
2022/03/19 16:52:31 learn_server.go:263: [SIEVE-AFTER-WRITE]	85	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:31 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:31 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	28
2022/03/19 16:52:36 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	29
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:36 learn_server.go:256: [SIEVE-BEFORE-WRITE]	86
2022/03/19 16:52:36 learn_server.go:263: [SIEVE-AFTER-WRITE]	86	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:36 learn_server.go:256: [SIEVE-BEFORE-WRITE]	87
2022/03/19 16:52:36 learn_server.go:263: [SIEVE-AFTER-WRITE]	87	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:36 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:36 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	29
2022/03/19 16:52:41 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	30
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	88
2022/03/19 16:52:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	88	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	89
2022/03/19 16:52:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	89	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:41 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	30
2022/03/19 16:52:46 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	31
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:46 learn_server.go:256: [SIEVE-BEFORE-WRITE]	90
2022/03/19 16:52:46 learn_server.go:263: [SIEVE-AFTER-WRITE]	90	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:46 learn_server.go:256: [SIEVE-BEFORE-WRITE]	91
2022/03/19 16:52:46 learn_server.go:263: [SIEVE-AFTER-WRITE]	91	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:46 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:46 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	31
2022/03/19 16:52:51 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	32
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	92
2022/03/19 16:52:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	92	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	93
2022/03/19 16:52:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	93	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:51 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	32
2022/03/19 16:52:56 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	33
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:52:56 learn_server.go:256: [SIEVE-BEFORE-WRITE]	94
2022/03/19 16:52:56 learn_server.go:263: [SIEVE-AFTER-WRITE]	94	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:52:56 learn_server.go:256: [SIEVE-BEFORE-WRITE]	95
2022/03/19 16:52:56 learn_server.go:263: [SIEVE-AFTER-WRITE]	95	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:52:56 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:52:56 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	33
2022/03/19 16:53:01 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	34
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:01 learn_server.go:256: [SIEVE-BEFORE-WRITE]	96
2022/03/19 16:53:01 learn_server.go:263: [SIEVE-AFTER-WRITE]	96	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:01 learn_server.go:256: [SIEVE-BEFORE-WRITE]	97
2022/03/19 16:53:01 learn_server.go:263: [SIEVE-AFTER-WRITE]	97	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:01 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:01 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	34
2022/03/19 16:53:06 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	35
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:06 learn_server.go:256: [SIEVE-BEFORE-WRITE]	98
2022/03/19 16:53:06 learn_server.go:263: [SIEVE-AFTER-WRITE]	98	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:06 learn_server.go:256: [SIEVE-BEFORE-WRITE]	99
2022/03/19 16:53:06 learn_server.go:263: [SIEVE-AFTER-WRITE]	99	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:06 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:06 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	35
2022/03/19 16:53:11 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	36
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	100
2022/03/19 16:53:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	100	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:11 learn_server.go:256: [SIEVE-BEFORE-WRITE]	101
2022/03/19 16:53:11 learn_server.go:263: [SIEVE-AFTER-WRITE]	101	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:11 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:11 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	36
2022/03/19 16:53:16 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	37
2022/03/19 16:53:16 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:17 learn_server.go:256: [SIEVE-BEFORE-WRITE]	102
2022/03/19 16:53:17 learn_server.go:263: [SIEVE-AFTER-WRITE]	102	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:17 learn_server.go:256: [SIEVE-BEFORE-WRITE]	103
2022/03/19 16:53:17 learn_server.go:263: [SIEVE-AFTER-WRITE]	103	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:17 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:17 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	37
2022/03/19 16:53:22 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	38
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:22 learn_server.go:256: [SIEVE-BEFORE-WRITE]	104
2022/03/19 16:53:22 learn_server.go:263: [SIEVE-AFTER-WRITE]	104	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:22 learn_server.go:256: [SIEVE-BEFORE-WRITE]	105
2022/03/19 16:53:22 learn_server.go:263: [SIEVE-AFTER-WRITE]	105	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:22 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:22 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	38
2022/03/19 16:53:27 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	39
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:27 learn_server.go:256: [SIEVE-BEFORE-WRITE]	106
2022/03/19 16:53:27 learn_server.go:263: [SIEVE-AFTER-WRITE]	106	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:27 learn_server.go:256: [SIEVE-BEFORE-WRITE]	107
2022/03/19 16:53:27 learn_server.go:263: [SIEVE-AFTER-WRITE]	107	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:27 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:27 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	39
2022/03/19 16:53:32 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	40
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:32 learn_server.go:256: [SIEVE-BEFORE-WRITE]	108
2022/03/19 16:53:32 learn_server.go:263: [SIEVE-AFTER-WRITE]	108	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:32 learn_server.go:256: [SIEVE-BEFORE-WRITE]	109
2022/03/19 16:53:32 learn_server.go:263: [SIEVE-AFTER-WRITE]	109	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:32 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	40
2022/03/19 16:53:37 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	41
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandracluster	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"CassandraCluster","apiVersion":"db.orange.com/v1alpha1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","resourceVersion":"1043","generation":6,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"cluster":"k8s.kaas"},"annotations":{"cassandraclusters.db.orange.com/last-applied-configuration":"{\"kind\":\"CassandraCluster\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"metadata\":{\"name\":\"cassandra-cluster\",\"namespace\":\"default\",\"selfLink\":\"/apis/db.orange.com/v1alpha1/namespaces/default/cassandraclusters/cassandra-cluster\",\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\",\"generation\":6,\"creationTimestamp\":\"2022-03-19T16:50:50Z\",\"labels\":{\"cluster\":\"k8s.kaas\"},\"finalizers\":[\"kubernetes.io/pvc-to-delete\"],\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:51:50Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:cluster\":{}}},\"f:spec\":{\".\":{},\"f:bootstrapImage\":{},\"f:cassandraImage\":{},\"f:configMapName\":{},\"f:dataCapacity\":{},\"f:deletePVC\":{},\"f:gcStdout\":{},\"f:imagepullpolicy\":{},\"f:maxPodUnavailable\":{},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:runAsUser\":{},\"f:topology\":{}}}},{\"manager\":\"casskop\",\"operation\":\"Update\",\"apiVersion\":\"db.orange.com/v1alpha1\",\"time\":\"2022-03-19T16:52:11Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:cassandraclusters.db.orange.com/last-applied-configuration\":{}},\"f:finalizers\":{}},\"f:spec\":{\"f:backRestSidecar\":{\".\":{},\"f:image\":{}},\"f:imageJolokiaSecret\":{},\"f:imagePullSecret\":{},\"f:initContainerCmd\":{},\"f:initContainerImage\":{},\"f:livenessHealthCheckPeriod\":{},\"f:livenessHealthCheckTimeout\":{},\"f:livenessInitialDelaySeconds\":{},\"f:nodesPerRacks\":{},\"f:readOnlyRootFilesystem\":{},\"f:readinessHealthCheckPeriod\":{},\"f:readinessHealthCheckTimeout\":{},\"f:readinessInitialDelaySeconds\":{},\"f:serviceAccountName\":{},\"f:topology\":{\"f:dc\":{}}},\"f:status\":{\".\":{},\"f:cassandraNodeStatus\":{\".\":{},\"f:cassandra-cluster-dc1-rack1-0\":{\".\":{},\"f:hostId\":{},\"f:nodeIp\":{}}},\"f:cassandraRackStatus\":{\".\":{},\"f:dc1-rack1\":{\".\":{},\"f:cassandraLastAction\":{\".\":{},\"f:endTime\":{},\"f:name\":{},\"f:status\":{}},\"f:phase\":{},\"f:podLastOperation\":{}}},\"f:lastClusterAction\":{},\"f:lastClusterActionStatus\":{},\"f:phase\":{},\"f:seedlist\":{}}}}]},\"spec\":{\"nodesPerRacks\":1,\"cassandraImage\":\"cassandra:3.11\",\"imagepullpolicy\":\"IfNotPresent\",\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"initContainerImage\":\"cassandra:3.11\",\"initContainerCmd\":\"cp -vr /etc/cassandra/* /bootstrap\",\"runAsUser\":999,\"readOnlyRootFilesystem\":true,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"deletePVC\":true,\"gcStdout\":true,\"maxPodUnavailable\":1,\"dataCapacity\":\"200Mi\",\"configMapName\":\"cassandra-configmap-v1\",\"imagePullSecret\":{},\"imageJolokiaSecret\":{},\"topology\":{\"dc\":[{\"name\":\"dc1\",\"rack\":[{\"name\":\"rack1\"}],\"nodesPerRacks\":1,\"resources\":{}}]},\"livenessInitialDelaySeconds\":120,\"livenessHealthCheckTimeout\":20,\"livenessHealthCheckPeriod\":10,\"readinessInitialDelaySeconds\":60,\"readinessHealthCheckTimeout\":10,\"readinessHealthCheckPeriod\":10,\"backRestSidecar\":{\"image\":\"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9\"},\"serviceAccountName\":\"cassandra-cluster-node\"},\"status\":{}}","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"db.orange.com/v1alpha1\",\"kind\":\"CassandraCluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"cluster\":\"k8s.kaas\"},\"name\":\"cassandra-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoPilot\":false,\"autoUpdateSeedList\":false,\"bootstrapImage\":\"orangeopensource/cassandra-bootstrap:0.1.8\",\"cassandraImage\":\"cassandra:3.11\",\"configMapName\":\"cassandra-configmap-v1\",\"dataCapacity\":\"200Mi\",\"deletePVC\":true,\"gcStdout\":true,\"hardAntiAffinity\":false,\"imagepullpolicy\":\"IfNotPresent\",\"maxPodUnavailable\":1,\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"2Gi\"}},\"runAsUser\":999,\"topology\":{\"dc\":[{\"name\":\"dc1\",\"nodesPerRacks\":1,\"rack\":[{\"name\":\"rack1\"}]}]}}}\n"},"finalizers":["kubernetes.io/pvc-to-delete"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:cluster":{}}},"f:spec":{".":{},"f:bootstrapImage":{},"f:cassandraImage":{},"f:configMapName":{},"f:dataCapacity":{},"f:deletePVC":{},"f:gcStdout":{},"f:imagepullpolicy":{},"f:maxPodUnavailable":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:runAsUser":{},"f:topology":{}}}},{"manager":"casskop","operation":"Update","apiVersion":"db.orange.com/v1alpha1","time":"2022-03-19T16:52:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:cassandraclusters.db.orange.com/last-applied-configuration":{}},"f:finalizers":{}},"f:spec":{"f:backRestSidecar":{".":{},"f:image":{}},"f:imageJolokiaSecret":{},"f:imagePullSecret":{},"f:initContainerCmd":{},"f:initContainerImage":{},"f:livenessHealthCheckPeriod":{},"f:livenessHealthCheckTimeout":{},"f:livenessInitialDelaySeconds":{},"f:nodesPerRacks":{},"f:readOnlyRootFilesystem":{},"f:readinessHealthCheckPeriod":{},"f:readinessHealthCheckTimeout":{},"f:readinessInitialDelaySeconds":{},"f:serviceAccountName":{},"f:topology":{"f:dc":{}}},"f:status":{".":{},"f:cassandraNodeStatus":{".":{},"f:cassandra-cluster-dc1-rack1-0":{".":{},"f:hostId":{},"f:nodeIp":{}}},"f:cassandraRackStatus":{".":{},"f:dc1-rack1":{".":{},"f:cassandraLastAction":{".":{},"f:endTime":{},"f:name":{},"f:status":{}},"f:phase":{},"f:podLastOperation":{}}},"f:lastClusterAction":{},"f:lastClusterActionStatus":{},"f:phase":{},"f:seedlist":{}}}}]},"spec":{"nodesPerRacks":1,"cassandraImage":"cassandra:3.11","imagepullpolicy":"IfNotPresent","bootstrapImage":"orangeopensource/cassandra-bootstrap:0.1.8","initContainerImage":"cassandra:3.11","initContainerCmd":"cp -vr /etc/cassandra/* /bootstrap","runAsUser":999,"readOnlyRootFilesystem":true,"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"deletePVC":true,"gcStdout":true,"maxPodUnavailable":1,"dataCapacity":"200Mi","configMapName":"cassandra-configmap-v1","imagePullSecret":{},"imageJolokiaSecret":{},"topology":{"dc":[{"name":"dc1","rack":[{"name":"rack1"}],"nodesPerRacks":1,"resources":{}}]},"livenessInitialDelaySeconds":120,"livenessHealthCheckTimeout":20,"livenessHealthCheckPeriod":10,"readinessInitialDelaySeconds":60,"readinessHealthCheckTimeout":10,"readinessHealthCheckPeriod":10,"backRestSidecar":{"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9"},"serviceAccountName":"cassandra-cluster-node"},"status":{"phase":"Running","lastClusterAction":"Initializing","lastClusterActionStatus":"Done","seedlist":["cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"],"cassandraNodeStatus":{"cassandra-cluster-dc1-rack1-0":{"hostId":"2102fbfc-13cf-4ba1-a423-26aa440b8bbe","nodeIp":"10.244.2.4"}},"cassandraRackStatus":{"dc1-rack1":{"phase":"Running","cassandraLastAction":{"status":"Done","name":"Initializing","endTime":"2022-03-19T16:52:11Z"},"podLastOperation":{}}}}}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	poddisruptionbudget	default	cassandra-cluster	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"PodDisruptionBudget","apiVersion":"policy/v1beta1","metadata":{"name":"cassandra-cluster","namespace":"default","selfLink":"/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/cassandra-cluster","uid":"e386e3d3-adee-4c40-927a-3a8cf3c8ab4c","resourceVersion":"1029","generation":1,"creationTimestamp":"2022-03-19T16:51:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:51:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:maxUnavailable":{},"f:selector":{".":{},"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cluster":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"policy/v1beta1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentHealthy":{},"f:disruptionsAllowed":{},"f:expectedPods":{},"f:observedGeneration":{}}}}]},"spec":{"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"maxUnavailable":1},"status":{"observedGeneration":1,"disruptionsAllowed":1,"currentHealthy":1,"desiredHealthy":0,"expectedPods":1}}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-cluster-dc1-rack1-0","generateName":"cassandra-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-cluster-dc1-rack1-0","uid":"e626a0d5-e6d9-4cb9-95e6-d68592f82e49","resourceVersion":"1027","creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","controller-revision-hash":"cassandra-cluster-dc1-rack1-7849d55569","dc-rack":"dc1-rack1","statefulset.kubernetes.io/pod-name":"cassandra-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:controller-revision-hash":{},"f:dc-rack":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"c2e29532-c2c8-487d-b0b1-4d814c391d56\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"data\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-cassandra-cluster-dc1-rack1-0"}},{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}},{"name":"cassandra-cluster-node-token-47kpt","secret":{"secretName":"cassandra-cluster-node-token-47kpt","defaultMode":420}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"},{"name":"cassandra-cluster-node-token-47kpt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","nodeName":"kind-worker2","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"hostname":"cassandra-cluster-dc1-rack1-0","subdomain":"cassandra-cluster","affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:51:04Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:52:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-19T16:50:53Z"}],"hostIP":"192.168.16.3","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-19T16:50:53Z","initContainerStatuses":[{"name":"init-config","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:50:59Z","finishedAt":"2022-03-19T16:50:59Z","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://5556e0cca165353ce49f4fd16212d6f17bcd39dfded719ad2b93be0177455b3e"},{"name":"bootstrap","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-19T16:51:03Z","finishedAt":"2022-03-19T16:51:03Z","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/orangeopensource/cassandra-bootstrap:0.1.8","imageID":"docker.io/orangeopensource/cassandra-bootstrap@sha256:2f02e27d19fdff57265b6958c0f413e69e2ab80fbc289bbe762b62e0f7e5469b","containerID":"containerd://ffbb75926a6039b410ace3324299c90d584e20a57e642f639c586d3fb0712ee0"}],"containerStatuses":[{"name":"backrest-sidecar","state":{"running":{"startedAt":"2022-03-19T16:51:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:63d522e91b53b4313c775ed96bf10f8cc7ef6551d2b89e3446af7a05a9b4156a","containerID":"containerd://d4320e932efc760ec10b437759c1995c60cb6ef7a452dd6c18d19286ab9e2b61","started":true},{"name":"cassandra","state":{"running":{"startedAt":"2022-03-19T16:51:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/cassandra:3.11","imageID":"docker.io/library/cassandra@sha256:b490758588d935cb0ee63468a50e61684500e679d46c22b3e67a470fe4db6bf5","containerID":"containerd://90ba0bcfbc6254891071e6d9fe35a07dc4022486e63983f90fa372f5656c1b48","started":true}],"qosClass":"Guaranteed"}}]}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"metadata":{},"items":[]}
2022/03/19 16:53:37 learn_server.go:256: [SIEVE-BEFORE-WRITE]	110
2022/03/19 16:53:37 learn_server.go:263: [SIEVE-AFTER-WRITE]	110	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/19 16:53:37 learn_server.go:256: [SIEVE-BEFORE-WRITE]	111
2022/03/19 16:53:37 learn_server.go:263: [SIEVE-AFTER-WRITE]	111	Create	service	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	AlreadyExists	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-cluster-exporter-jmx","namespace":"default","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas","k8s-app":"exporter-cassandra-jmx"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}]},"spec":{"ports":[{"name":"promjmx","protocol":"TCP","port":9500,"targetPort":0}],"selector":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"},"clusterIP":"None","type":"ClusterIP"},"status":{"loadBalancer":{}}}
2022/03/19 16:53:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-cluster-dc1-rack1	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-cluster-dc1-rack1","uid":"c2e29532-c2c8-487d-b0b1-4d814c391d56","resourceVersion":"1033","generation":1,"creationTimestamp":"2022-03-19T16:50:50Z","labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"},"annotations":{"banzaicloud.com/last-applied":"eyJhcGlWZXJzaW9uIjoiYXBwcy92MSIsImtpbmQiOiJTdGF0ZWZ1bFNldCIsIm1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxIiwibmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJzcGVjIjp7InJlcGxpY2FzIjoxLCJzZWxlY3RvciI6eyJtYXRjaExhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic2VydmljZU5hbWUiOiJjYXNzYW5kcmEtY2x1c3RlciIsInRlbXBsYXRlIjp7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9fSwic3BlYyI6eyJhZmZpbml0eSI6eyJub2RlQWZmaW5pdHkiOnt9LCJwb2RBbnRpQWZmaW5pdHkiOnsicHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24iOlt7InBvZEFmZmluaXR5VGVybSI6eyJsYWJlbFNlbGVjdG9yIjp7Im1hdGNoTGFiZWxzIjp7ImFwcCI6ImNhc3NhbmRyYWNsdXN0ZXIiLCJjYXNzYW5kcmFjbHVzdGVyIjoiY2Fzc2FuZHJhLWNsdXN0ZXIiLCJjbHVzdGVyIjoiazhzLmthYXMifX0sInRvcG9sb2d5S2V5Ijoia3ViZXJuZXRlcy5pby9ob3N0bmFtZSJ9LCJ3ZWlnaHQiOjEwMH1dfX0sImNvbnRhaW5lcnMiOlt7ImNvbW1hbmQiOlsiY2Fzc2FuZHJhIiwiLWYiXSwiZW52IjpbeyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibGlmZWN5Y2xlIjp7InByZVN0b3AiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcHJlX3N0b3Auc2giXX19fSwibGl2ZW5lc3NQcm9iZSI6eyJleGVjIjp7ImNvbW1hbmQiOlsiL2Jpbi9iYXNoIiwiLWMiLCIvZXRjL2Nhc3NhbmRyYS9saXZlbmVzcy1wcm9iZS5zaCJdfSwiaW5pdGlhbERlbGF5U2Vjb25kcyI6MTIwLCJwZXJpb2RTZWNvbmRzIjoxMCwidGltZW91dFNlY29uZHMiOjIwfSwibmFtZSI6ImNhc3NhbmRyYSIsInBvcnRzIjpbeyJjb250YWluZXJQb3J0Ijo3MDAwLCJuYW1lIjoiaW50cmEtbm9kZSIsInByb3RvY29sIjoiVENQIn0seyJjb250YWluZXJQb3J0Ijo3MDAxLCJuYW1lIjoiaW50cmEtbm9kZS10bHMiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6NzE5OSwibmFtZSI6ImpteC1wb3J0IiwicHJvdG9jb2wiOiJUQ1AifSx7ImNvbnRhaW5lclBvcnQiOjkwNDIsIm5hbWUiOiJjcWwiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6OTUwMCwibmFtZSI6InByb21qbXgiLCJwcm90b2NvbCI6IlRDUCJ9LHsiY29udGFpbmVyUG9ydCI6ODc3OCwibmFtZSI6ImpvbG9raWEiLCJwcm90b2NvbCI6IlRDUCJ9XSwicmVhZGluZXNzUHJvYmUiOnsiZXhlYyI6eyJjb21tYW5kIjpbIi9iaW4vYmFzaCIsIi1jIiwiL2V0Yy9jYXNzYW5kcmEvcmVhZGluZXNzLXByb2JlLnNoIl19LCJpbml0aWFsRGVsYXlTZWNvbmRzIjo2MCwicGVyaW9kU2Vjb25kcyI6MTAsInRpbWVvdXRTZWNvbmRzIjoxMH0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiMSIsIm1lbW9yeSI6IjJHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiIxIiwibWVtb3J5IjoiMkdpIn19LCJzZWN1cml0eUNvbnRleHQiOnsiY2FwYWJpbGl0aWVzIjp7ImFkZCI6WyJJUENfTE9DSyJdfSwicHJvY01vdW50IjoiRGVmYXVsdCIsInJlYWRPbmx5Um9vdEZpbGVzeXN0ZW0iOnRydWV9LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvdmFyL2xpYi9jYXNzYW5kcmEiLCJuYW1lIjoiZGF0YSJ9LHsibW91bnRQYXRoIjoiL3RtcCIsIm5hbWUiOiJ0bXAifV19LHsiZW52IjpbeyJuYW1lIjoiQ0FTU0FORFJBX1NFRURTIiwidmFsdWUiOiJjYXNzYW5kcmEtY2x1c3Rlci1kYzEtcmFjazEtMC5jYXNzYW5kcmEtY2x1c3Rlci5kZWZhdWx0In0seyJuYW1lIjoiQ0FTU0FORFJBX0NMVVNURVJfTkFNRSIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXIifSx7Im5hbWUiOiJDQVNTQU5EUkFfR0NfU1RET1VUIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiQ0FTU0FORFJBX05VTV9UT0tFTlMiLCJ2YWx1ZSI6IjI1NiJ9LHsibmFtZSI6IkNBU1NBTkRSQV9EQyIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJtZXRhZGF0YS5sYWJlbHNbJ2Nhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20uZGMnXSJ9fX0seyJuYW1lIjoiQ0FTU0FORFJBX1JBQ0siLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLnJhY2snXSJ9fX0seyJuYW1lIjoiUE9EX0lQIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6InN0YXR1cy5wb2RJUCJ9fX1dLCJpbWFnZSI6Imdjci5pby9jYXNzYW5kcmEtb3BlcmF0b3IvaW5zdGFjbHVzdHItaWNhcnVzOjEuMC45IiwibmFtZSI6ImJhY2tyZXN0LXNpZGVjYXIiLCJwb3J0cyI6W3siY29udGFpbmVyUG9ydCI6NDU2NywibmFtZSI6Imh0dHAifV0sInJlc291cmNlcyI6eyJsaW1pdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjFHaSJ9LCJyZXF1ZXN0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiMUdpIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii92YXIvbGliL2Nhc3NhbmRyYSIsIm5hbWUiOiJkYXRhIn0seyJtb3VudFBhdGgiOiIvdG1wIiwibmFtZSI6InRtcCJ9XX1dLCJpbml0Q29udGFpbmVycyI6W3siY29tbWFuZCI6WyJzaCIsIi1jIiwiY3AgLXZyIC9ldGMvY2Fzc2FuZHJhLyogL2Jvb3RzdHJhcCJdLCJpbWFnZSI6ImNhc3NhbmRyYTozLjExIiwiaW1hZ2VQdWxsUG9saWN5IjoiSWZOb3RQcmVzZW50IiwibmFtZSI6ImluaXQtY29uZmlnIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ib290c3RyYXAiLCJuYW1lIjoiYm9vdHN0cmFwIn1dfSx7ImVudiI6W3sibmFtZSI6IkNBU1NBTkRSQV9NQVhfSEVBUCIsInZhbHVlIjoiNTEyTSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9TRUVEUyIsInZhbHVlIjoiY2Fzc2FuZHJhLWNsdXN0ZXItZGMxLXJhY2sxLTAuY2Fzc2FuZHJhLWNsdXN0ZXIuZGVmYXVsdCJ9LHsibmFtZSI6IkNBU1NBTkRSQV9DTFVTVEVSX05BTUUiLCJ2YWx1ZSI6ImNhc3NhbmRyYS1jbHVzdGVyIn0seyJuYW1lIjoiQ0FTU0FORFJBX0dDX1NURE9VVCIsInZhbHVlIjoidHJ1ZSJ9LHsibmFtZSI6IkNBU1NBTkRSQV9OVU1fVE9LRU5TIiwidmFsdWUiOiIyNTYifSx7Im5hbWUiOiJDQVNTQU5EUkFfREMiLCJ2YWx1ZUZyb20iOnsiZmllbGRSZWYiOnsiYXBpVmVyc2lvbiI6InYxIiwiZmllbGRQYXRoIjoibWV0YWRhdGEubGFiZWxzWydjYXNzYW5kcmFjbHVzdGVycy5kYi5vcmFuZ2UuY29tLmRjJ10ifX19LHsibmFtZSI6IkNBU1NBTkRSQV9SQUNLIiwidmFsdWVGcm9tIjp7ImZpZWxkUmVmIjp7ImFwaVZlcnNpb24iOiJ2MSIsImZpZWxkUGF0aCI6Im1ldGFkYXRhLmxhYmVsc1snY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5yYWNrJ10ifX19LHsibmFtZSI6IlBPRF9JUCIsInZhbHVlRnJvbSI6eyJmaWVsZFJlZiI6eyJhcGlWZXJzaW9uIjoidjEiLCJmaWVsZFBhdGgiOiJzdGF0dXMucG9kSVAifX19XSwiaW1hZ2UiOiJvcmFuZ2VvcGVuc291cmNlL2Nhc3NhbmRyYS1ib290c3RyYXA6MC4xLjgiLCJpbWFnZVB1bGxQb2xpY3kiOiJJZk5vdFByZXNlbnQiLCJuYW1lIjoiYm9vdHN0cmFwIiwicmVzb3VyY2VzIjp7ImxpbWl0cyI6eyJjcHUiOiI1MDBtIiwibWVtb3J5IjoiNTEyTWkifSwicmVxdWVzdHMiOnsiY3B1IjoiNTAwbSIsIm1lbW9yeSI6IjUxMk1pIn19LCJ2b2x1bWVNb3VudHMiOlt7Im1vdW50UGF0aCI6Ii9ldGMvY2Fzc2FuZHJhIiwibmFtZSI6ImJvb3RzdHJhcCJ9LHsibW91bnRQYXRoIjoiL2V4dHJhLWxpYiIsIm5hbWUiOiJleHRyYS1saWIifSx7Im1vdW50UGF0aCI6Ii9vcHQvYmluIiwibmFtZSI6InRvb2xzIn0seyJtb3VudFBhdGgiOiIvY29uZmlnbWFwIiwibmFtZSI6ImNhc3NhbmRyYS1jb25maWcifV19XSwicmVzdGFydFBvbGljeSI6IkFsd2F5cyIsInNlY3VyaXR5Q29udGV4dCI6eyJmc0dyb3VwIjoxLCJydW5Bc05vblJvb3QiOnRydWUsInJ1bkFzVXNlciI6OTk5fSwic2VydmljZUFjY291bnROYW1lIjoiY2Fzc2FuZHJhLWNsdXN0ZXItbm9kZSIsInRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzIjoxODAwLCJ2b2x1bWVzIjpbeyJlbXB0eURpciI6e30sIm5hbWUiOiJib290c3RyYXAifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6ImV4dHJhLWxpYiJ9LHsiZW1wdHlEaXIiOnt9LCJuYW1lIjoidG9vbHMifSx7ImVtcHR5RGlyIjp7fSwibmFtZSI6InRtcCJ9LHsiY29uZmlnTWFwIjp7ImRlZmF1bHRNb2RlIjo0OTMsIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnbWFwLXYxIn0sIm5hbWUiOiJjYXNzYW5kcmEtY29uZmlnIn1dfX0sInVwZGF0ZVN0cmF0ZWd5Ijp7InJvbGxpbmdVcGRhdGUiOnsicGFydGl0aW9uIjowfSwidHlwZSI6IlJvbGxpbmdVcGRhdGUifSwidm9sdW1lQ2xhaW1UZW1wbGF0ZXMiOlt7Im1ldGFkYXRhIjp7ImxhYmVscyI6eyJhcHAiOiJjYXNzYW5kcmFjbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlciI6ImNhc3NhbmRyYS1jbHVzdGVyIiwiY2Fzc2FuZHJhY2x1c3RlcnMuZGIub3JhbmdlLmNvbS5kYyI6ImRjMSIsImNhc3NhbmRyYWNsdXN0ZXJzLmRiLm9yYW5nZS5jb20ucmFjayI6InJhY2sxIiwiY2x1c3RlciI6Ims4cy5rYWFzIiwiZGMtcmFjayI6ImRjMS1yYWNrMSJ9LCJuYW1lIjoiZGF0YSJ9LCJzcGVjIjp7ImFjY2Vzc01vZGVzIjpbIlJlYWRXcml0ZU9uY2UiXSwicmVzb3VyY2VzIjp7InJlcXVlc3RzIjp7InN0b3JhZ2UiOiIyMDBNaSJ9fX0sInN0YXR1cyI6e319XX0sInN0YXR1cyI6eyJyZXBsaWNhcyI6MH19"},"ownerReferences":[{"apiVersion":"db.orange.com/v1alpha1","kind":"CassandraCluster","name":"cassandra-cluster","uid":"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0","controller":true}],"managedFields":[{"manager":"casskop","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:50:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:banzaicloud.com/last-applied":{}},"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"87f7fd8d-116a-4ee3-bed2-16cb63bdfdd0\"}":{".":{},"f:apiVersion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:cassandracluster":{},"f:cassandraclusters.db.orange.com.dc":{},"f:cassandraclusters.db.orange.com.rack":{},"f:cluster":{},"f:dc-rack":{}}},"f:spec":{"f:affinity":{".":{},"f:nodeAffinity":{},"f:podAntiAffinity":{".":{},"f:preferredDuringSchedulingIgnoredDuringExecution":{}}},"f:containers":{"k:{\"name\":\"backrest-sidecar\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"cassandra\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8778,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9500,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}},"f:procMount":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:initContainers":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CASSANDRA_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_DC\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_GC_STDOUT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_MAX_HEAP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_NUM_TOKENS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CASSANDRA_RACK\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"CASSANDRA_SEEDS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/configmap\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/extra-lib\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/opt/bin\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"init-config\"}":{".":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/bootstrap\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"bootstrap\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"cassandra-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"extra-lib\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"tools\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-19T16:52:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"volumes":[{"name":"bootstrap","emptyDir":{}},{"name":"extra-lib","emptyDir":{}},{"name":"tools","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"cassandra-config","configMap":{"name":"cassandra-configmap-v1","defaultMode":493}}],"initContainers":[{"name":"init-config","image":"cassandra:3.11","command":["sh","-c","cp -vr /etc/cassandra/* /bootstrap"],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/bootstrap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"bootstrap","image":"orangeopensource/cassandra-bootstrap:0.1.8","env":[{"name":"CASSANDRA_MAX_HEAP","value":"512M"},{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"500m","memory":"512Mi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"cassandra-config","mountPath":"/configmap"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"cassandra","image":"cassandra:3.11","command":["cassandra","-f"],"ports":[{"name":"intra-node","containerPort":7000,"protocol":"TCP"},{"name":"intra-node-tls","containerPort":7001,"protocol":"TCP"},{"name":"jmx-port","containerPort":7199,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"promjmx","containerPort":9500,"protocol":"TCP"},{"name":"jolokia","containerPort":8778,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"tools","mountPath":"/opt/bin"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/liveness-probe.sh"]},"initialDelaySeconds":120,"timeoutSeconds":20,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/readiness-probe.sh"]},"initialDelaySeconds":60,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/bash","-c","/etc/cassandra/pre_stop.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["IPC_LOCK"]},"readOnlyRootFilesystem":true,"procMount":"Default"}},{"name":"backrest-sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:1.0.9","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"env":[{"name":"CASSANDRA_SEEDS","value":"cassandra-cluster-dc1-rack1-0.cassandra-cluster.default"},{"name":"CASSANDRA_CLUSTER_NAME","value":"cassandra-cluster"},{"name":"CASSANDRA_GC_STDOUT","value":"true"},{"name":"CASSANDRA_NUM_TOKENS","value":"256"},{"name":"CASSANDRA_DC","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.dc']"}}},{"name":"CASSANDRA_RACK","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels['cassandraclusters.db.orange.com.rack']"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"bootstrap","mountPath":"/etc/cassandra"},{"name":"extra-lib","mountPath":"/extra-lib"},{"name":"data","mountPath":"/var/lib/cassandra"},{"name":"tmp","mountPath":"/tmp"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":1800,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-cluster-node","serviceAccount":"cassandra-cluster-node","securityContext":{"runAsUser":999,"runAsNonRoot":true,"fsGroup":1},"affinity":{"nodeAffinity":{},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cluster":"k8s.kaas"}},"topologyKey":"kubernetes.io/hostname"}}]}},"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data","creationTimestamp":null,"labels":{"app":"cassandracluster","cassandracluster":"cassandra-cluster","cassandraclusters.db.orange.com.dc":"dc1","cassandraclusters.db.orange.com.rack":"rack1","cluster":"k8s.kaas","dc-rack":"dc1-rack1"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"200Mi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-cluster","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-cluster-dc1-rack1-7849d55569","updateRevision":"cassandra-cluster-dc1-rack1-7849d55569","collisionCount":0}}
2022/03/19 16:53:37 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/Orange-OpenSource/casskop/pkg/controller/cassandracluster.(*ReconcileCassandraCluster)	41
