2022/03/21 01:41:17 server.go:17: registering rpc server...
2022/03/21 01:41:17 config.go:22: config:
map[crdList:[cassandradatacenter cassandracluster cassandrabackup] rateLimiterEnabled:false rateLimiterInterval:3]
2022/03/21 01:41:17 learn_server.go:125: start learnServer...
2022/03/21 01:41:17 learn_server.go:126: rateLimiterEnabled: false
2022/03/21 01:41:17 server.go:28: setting up connection...
2022/03/21 01:41:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	pod	default	cassandra-operator-55bf946bb6-fmnwl	unknown	NoError	{"metadata":{"name":"cassandra-operator-55bf946bb6-fmnwl","generateName":"cassandra-operator-55bf946bb6-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-operator-55bf946bb6-fmnwl","uid":"5df37850-75f6-43e3-ad60-8ea752d4bf07","resourceVersion":"741","creationTimestamp":"2022-03-21T01:41:26Z","labels":{"name":"cassandra-operator","pod-template-hash":"55bf946bb6","sievetag":"cassandra-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"cassandra-operator-55bf946bb6","uid":"033e9bdc-1deb-4ab0-889e-d5110ed50938","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:name":{},"f:pod-template-hash":{},"f:sievetag":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"033e9bdc-1deb-4ab0-889e-d5110ed50938\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra-operator\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"OPERATOR_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"WATCH_NAMESPACE\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:envFrom":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{".":{},"k:{\"type\":\"PodScheduled\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.2\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"cassandra-operator-token-gdjmd","secret":{"secretName":"cassandra-operator-token-gdjmd","defaultMode":420}}],"containers":[{"name":"cassandra-operator","image":"ghcr.io/sieve-project/action/cassandra-operator:learn","command":["./cassandra-operator"],"envFrom":[{"configMapRef":{"name":"sieve-testing-global-config"}}],"env":[{"name":"WATCH_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"OPERATOR_NAME","value":"cassandra-operator"},{"name":"KUBERNETES_SERVICE_HOST","value":"kind-control-plane"},{"name":"KUBERNETES_SERVICE_PORT","value":"6443"}],"resources":{},"volumeMounts":[{"name":"cassandra-operator-token-gdjmd","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-operator","serviceAccount":"cassandra-operator","nodeName":"kind-worker","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.2","podIPs":[{"ip":"10.244.2.2"}],"startTime":"2022-03-21T01:41:36Z","containerStatuses":[{"name":"cassandra-operator","state":{"running":{"startedAt":"2022-03-21T01:41:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"ghcr.io/sieve-project/action/cassandra-operator:learn","imageID":"sha256:03a184540ec9db11c273c77407117df114ce5a777e5a4a1ee61edbf646abdbc5","containerID":"containerd://3afc47e43a02059fa63aadc021d175a3087a647608e9138a5877ae1925dae1e4","started":true}],"qosClass":"BestEffort"}}
2022/03/21 01:41:37 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	configmap	default	myoperator-lock	unknown	NotFound	{"metadata":{"creationTimestamp":null}}
2022/03/21 01:41:37 learn_server.go:256: [SIEVE-BEFORE-WRITE]	0
2022/03/21 01:41:37 learn_server.go:263: [SIEVE-AFTER-WRITE]	0	Create	configmap	unknown	NoError	{"metadata":{"name":"myoperator-lock","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/myoperator-lock","uid":"b16e98f4-6f7f-4188-ab31-d13ca43da3f4","resourceVersion":"744","creationTimestamp":"2022-03-21T01:41:37Z","ownerReferences":[{"apiVersion":"v1","kind":"Pod","name":"cassandra-operator-55bf946bb6-fmnwl","uid":"5df37850-75f6-43e3-ad60-8ea752d4bf07"}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"5df37850-75f6-43e3-ad60-8ea752d4bf07\"}":{".":{},"f:apiVersion":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]}}
2022/03/21 01:41:38 learn_server.go:291: [SIEVE-AFTER-READ]	Get	false	pod	default	cassandra-operator-55bf946bb6-fmnwl	unknown	NoError	{"metadata":{"name":"cassandra-operator-55bf946bb6-fmnwl","generateName":"cassandra-operator-55bf946bb6-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-operator-55bf946bb6-fmnwl","uid":"5df37850-75f6-43e3-ad60-8ea752d4bf07","resourceVersion":"741","creationTimestamp":"2022-03-21T01:41:26Z","labels":{"name":"cassandra-operator","pod-template-hash":"55bf946bb6","sievetag":"cassandra-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"cassandra-operator-55bf946bb6","uid":"033e9bdc-1deb-4ab0-889e-d5110ed50938","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:name":{},"f:pod-template-hash":{},"f:sievetag":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"033e9bdc-1deb-4ab0-889e-d5110ed50938\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra-operator\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"OPERATOR_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"WATCH_NAMESPACE\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}}},"f:envFrom":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{".":{},"k:{\"type\":\"PodScheduled\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.2\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"cassandra-operator-token-gdjmd","secret":{"secretName":"cassandra-operator-token-gdjmd","defaultMode":420}}],"containers":[{"name":"cassandra-operator","image":"ghcr.io/sieve-project/action/cassandra-operator:learn","command":["./cassandra-operator"],"envFrom":[{"configMapRef":{"name":"sieve-testing-global-config"}}],"env":[{"name":"WATCH_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"OPERATOR_NAME","value":"cassandra-operator"},{"name":"KUBERNETES_SERVICE_HOST","value":"kind-control-plane"},{"name":"KUBERNETES_SERVICE_PORT","value":"6443"}],"resources":{},"volumeMounts":[{"name":"cassandra-operator-token-gdjmd","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-operator","serviceAccount":"cassandra-operator","nodeName":"kind-worker","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:36Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.2","podIPs":[{"ip":"10.244.2.2"}],"startTime":"2022-03-21T01:41:36Z","containerStatuses":[{"name":"cassandra-operator","state":{"running":{"startedAt":"2022-03-21T01:41:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"ghcr.io/sieve-project/action/cassandra-operator:learn","imageID":"sha256:03a184540ec9db11c273c77407117df114ce5a777e5a4a1ee61edbf646abdbc5","containerID":"containerd://3afc47e43a02059fa63aadc021d175a3087a647608e9138a5877ae1925dae1e4","started":true}],"qosClass":"BestEffort"}}
2022/03/21 01:41:38 learn_server.go:256: [SIEVE-BEFORE-WRITE]	1
2022/03/21 01:41:38 learn_server.go:263: [SIEVE-AFTER-WRITE]	1	Create	service	unknown	NoError	{"metadata":{"name":"cassandra-operator-metrics","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-operator-metrics","uid":"957676c0-dd24-45c8-a225-6432f51bc0b4","resourceVersion":"751","creationTimestamp":"2022-03-21T01:41:38Z","labels":{"name":"cassandra-operator"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"Deployment","name":"cassandra-operator","uid":"cb99c753-ad1e-4054-98bf-0d8051515916","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"cb99c753-ad1e-4054-98bf-0d8051515916\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:ports":{".":{},"k:{\"port\":8383,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":8686,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:name":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"http-metrics","protocol":"TCP","port":8383,"targetPort":8383},{"name":"cr-metrics","protocol":"TCP","port":8686,"targetPort":8686}],"selector":{"name":"cassandra-operator"},"clusterIP":"10.96.46.30","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	0	Sync	cassandradatacenter	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"755","generation":1,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:prometheusSupport":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	0
2022/03/21 01:41:39 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	0
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"755","generation":1,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:prometheusSupport":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	2
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	2	Update	cassandradatacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	1	Updated	cassandradatacenter	{"metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	1
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NotFound	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","creationTimestamp":null},"spec":{},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	3
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	2	Added	service	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	3	Create	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	2
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NotFound	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","creationTimestamp":null},"spec":{},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	4
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	3	Added	service	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	3
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	4	Create	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NotFound	{"metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"}}}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	5
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	5	Create	configmap	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	4	Added	configmap	{"metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-test-cluster-dc1-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NotFound	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"selector":null,"template":{"metadata":{"creationTimestamp":null},"spec":{"containers":null}},"serviceName":"","updateStrategy":{}},"status":{"replicas":0}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	4
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-rack-config-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NotFound	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}}}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	6
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	5	Added	configmap	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"770","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	5
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	6	Create	configmap	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"770","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:256: [SIEVE-BEFORE-WRITE]	7
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	6	Added	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"771","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}
2022/03/21 01:41:39 learn_server.go:263: [SIEVE-AFTER-WRITE]	7	Create	statefulset	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"771","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	6
2022/03/21 01:41:39 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	0
2022/03/21 01:41:39 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	1
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"771","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"replicas":0}}]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[]}
2022/03/21 01:41:39 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	1
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	7	Added	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"774","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	7
2022/03/21 01:41:39 learn_server.go:279: [SIEVE-BEFORE-HEAR]	8	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"777","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:41:39 learn_server.go:289: [SIEVE-AFTER-HEAR]	8
2022/03/21 01:41:39 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	2
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"774","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"774","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"777","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:41:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"774","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:41:39 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	2
2022/03/21 01:41:43 learn_server.go:279: [SIEVE-BEFORE-HEAR]	9	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"812","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"qosClass":"Burstable"}}
2022/03/21 01:41:43 learn_server.go:289: [SIEVE-AFTER-HEAR]	9
2022/03/21 01:41:43 learn_server.go:279: [SIEVE-BEFORE-HEAR]	10	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"814","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [sysctl-limits]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"busybox:latest","imageID":""}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:41:43 learn_server.go:289: [SIEVE-AFTER-HEAR]	10
2022/03/21 01:41:45 learn_server.go:279: [SIEVE-BEFORE-HEAR]	11	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"825","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:45Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:41:45 learn_server.go:289: [SIEVE-AFTER-HEAR]	11
2022/03/21 01:42:03 learn_server.go:279: [SIEVE-BEFORE-HEAR]	12	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:42:03 learn_server.go:289: [SIEVE-AFTER-HEAR]	12
2022/03/21 01:42:39 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	3
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"777","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:39 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:42:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	8
2022/03/21 01:42:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	8	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:42:41 learn_server.go:256: [SIEVE-BEFORE-WRITE]	9
2022/03/21 01:42:41 learn_server.go:263: [SIEVE-AFTER-WRITE]	9	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-test-cluster-dc1-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"777","generation":1,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-rack-config-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"770","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:41 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:42 learn_server.go:256: [SIEVE-BEFORE-WRITE]	10
2022/03/21 01:42:42 learn_server.go:263: [SIEVE-AFTER-WRITE]	10	Update	statefulset	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1006","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:42:42 learn_server.go:279: [SIEVE-BEFORE-HEAR]	13	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1006","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:42:42 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	3
2022/03/21 01:42:42 learn_server.go:289: [SIEVE-AFTER-HEAR]	13
2022/03/21 01:42:42 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	4
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1006","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:42 learn_server.go:279: [SIEVE-BEFORE-HEAR]	14	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1007","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:42:42 learn_server.go:289: [SIEVE-AFTER-HEAR]	14
2022/03/21 01:42:43 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	4
2022/03/21 01:42:43 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	5
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1007","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"891","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:42:03Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:42:44 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	5
2022/03/21 01:43:10 learn_server.go:279: [SIEVE-BEFORE-HEAR]	15	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:43:10 learn_server.go:289: [SIEVE-AFTER-HEAR]	15
2022/03/21 01:43:10 learn_server.go:279: [SIEVE-BEFORE-HEAR]	16	Added	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1095","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}
2022/03/21 01:43:10 learn_server.go:289: [SIEVE-AFTER-HEAR]	16
2022/03/21 01:43:10 learn_server.go:279: [SIEVE-BEFORE-HEAR]	17	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1102","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:43:10 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	6
2022/03/21 01:43:10 learn_server.go:289: [SIEVE-AFTER-HEAR]	17
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1095","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1095","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1102","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:43:10 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1095","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:43:10 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	6
2022/03/21 01:43:13 learn_server.go:279: [SIEVE-BEFORE-HEAR]	18	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1131","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"qosClass":"Burstable"}}
2022/03/21 01:43:13 learn_server.go:289: [SIEVE-AFTER-HEAR]	18
2022/03/21 01:43:13 learn_server.go:279: [SIEVE-BEFORE-HEAR]	19	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1133","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:13Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [sysctl-limits]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"busybox:latest","imageID":""}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:43:13 learn_server.go:289: [SIEVE-AFTER-HEAR]	19
2022/03/21 01:43:15 learn_server.go:279: [SIEVE-BEFORE-HEAR]	20	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1144","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:15Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:43:15 learn_server.go:289: [SIEVE-AFTER-HEAR]	20
2022/03/21 01:43:33 learn_server.go:279: [SIEVE-BEFORE-HEAR]	21	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1210","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:33Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:43:33 learn_server.go:289: [SIEVE-AFTER-HEAR]	21
2022/03/21 01:43:43 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	7
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1210","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:33Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1210","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:33Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1102","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1210","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:33Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:43:43 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1210","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:33Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:43:45 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	7
2022/03/21 01:44:32 learn_server.go:279: [SIEVE-BEFORE-HEAR]	22	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:44:32 learn_server.go:289: [SIEVE-AFTER-HEAR]	22
2022/03/21 01:44:32 learn_server.go:279: [SIEVE-BEFORE-HEAR]	23	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:44:32 learn_server.go:289: [SIEVE-AFTER-HEAR]	23
2022/03/21 01:44:32 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	8
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"759","generation":2,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:nodes":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:32 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:34 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:44:34 learn_server.go:256: [SIEVE-BEFORE-WRITE]	11
2022/03/21 01:44:34 learn_server.go:263: [SIEVE-AFTER-WRITE]	11	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:44:34 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:44:34 learn_server.go:256: [SIEVE-BEFORE-WRITE]	12
2022/03/21 01:44:34 learn_server.go:263: [SIEVE-AFTER-WRITE]	12	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:44:34 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:44:34 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	8
2022/03/21 01:44:40 learn_server.go:279: [SIEVE-BEFORE-HEAR]	24	Updated	cassandradatacenter	{"metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:44:40 learn_server.go:289: [SIEVE-AFTER-HEAR]	24
2022/03/21 01:44:40 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	9
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:40 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:44:42 learn_server.go:256: [SIEVE-BEFORE-WRITE]	13
2022/03/21 01:44:42 learn_server.go:263: [SIEVE-AFTER-WRITE]	13	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:44:42 learn_server.go:256: [SIEVE-BEFORE-WRITE]	14
2022/03/21 01:44:42 learn_server.go:263: [SIEVE-AFTER-WRITE]	14	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-test-cluster-dc1-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-rack-config-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"770","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:44:42 learn_server.go:256: [SIEVE-BEFORE-WRITE]	15
2022/03/21 01:44:42 learn_server.go:263: [SIEVE-AFTER-WRITE]	15	Update	configmap	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1420","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\ndc=dc1\nrack=rack1\nprefer_local=true\n"}}
2022/03/21 01:44:42 learn_server.go:279: [SIEVE-BEFORE-HEAR]	25	Updated	configmap	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1420","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\ndc=dc1\nrack=rack1\nprefer_local=true\n"}}
2022/03/21 01:44:42 learn_server.go:289: [SIEVE-AFTER-HEAR]	25
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:42 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:44 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:44 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	9
2022/03/21 01:44:45 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	10
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:45 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:44:47 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	10
2022/03/21 01:45:47 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	11
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:47 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:45:49 learn_server.go:256: [SIEVE-BEFORE-WRITE]	16
2022/03/21 01:45:49 learn_server.go:263: [SIEVE-AFTER-WRITE]	16	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:45:49 learn_server.go:256: [SIEVE-BEFORE-WRITE]	17
2022/03/21 01:45:49 learn_server.go:263: [SIEVE-AFTER-WRITE]	17	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-test-cluster-dc1-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1385","generation":2,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:42:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-rack-config-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1420","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\ndc=dc1\nrack=rack1\nprefer_local=true\n"}}
2022/03/21 01:45:49 learn_server.go:256: [SIEVE-BEFORE-WRITE]	18
2022/03/21 01:45:49 learn_server.go:263: [SIEVE-AFTER-WRITE]	18	Update	configmap	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1619","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:49Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:45:49 learn_server.go:279: [SIEVE-BEFORE-HEAR]	26	Updated	configmap	{"metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1619","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:49Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:45:49 learn_server.go:289: [SIEVE-AFTER-HEAR]	26
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:49 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:51 learn_server.go:256: [SIEVE-BEFORE-WRITE]	19
2022/03/21 01:45:51 learn_server.go:263: [SIEVE-AFTER-WRITE]	19	Update	statefulset	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1628","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:51 learn_server.go:279: [SIEVE-BEFORE-HEAR]	27	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1628","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:51 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	11
2022/03/21 01:45:51 learn_server.go:289: [SIEVE-AFTER-HEAR]	27
2022/03/21 01:45:51 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	12
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1628","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":2,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:51 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1380","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:51 learn_server.go:279: [SIEVE-BEFORE-HEAR]	28	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1629","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:44:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:44:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:43:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:43:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:45:51 learn_server.go:289: [SIEVE-AFTER-HEAR]	28
2022/03/21 01:45:51 learn_server.go:279: [SIEVE-BEFORE-HEAR]	29	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1632","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":2,"readyReplicas":2,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:51 learn_server.go:289: [SIEVE-AFTER-HEAR]	29
2022/03/21 01:45:52 learn_server.go:279: [SIEVE-BEFORE-HEAR]	30	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1642","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:45:52 learn_server.go:289: [SIEVE-AFTER-HEAR]	30
2022/03/21 01:45:52 learn_server.go:279: [SIEVE-BEFORE-HEAR]	31	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1646","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":2,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:52 learn_server.go:289: [SIEVE-AFTER-HEAR]	31
2022/03/21 01:45:52 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	12
2022/03/21 01:45:52 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	13
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1410","generation":3,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:44:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":1,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1642","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	persistentvolumeclaimlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume-cassandra-test-cluster-dc1-rack1-0","namespace":"default","selfLink":"/api/v1/namespaces/default/persistentvolumeclaims/data-volume-cassandra-test-cluster-dc1-rack1-0","uid":"2af3c34f-76d9-4654-928f-8001c6027830","resourceVersion":"808","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"annotations":{"pv.kubernetes.io/bind-completed":"yes","pv.kubernetes.io/bound-by-controller":"yes","volume.beta.kubernetes.io/storage-provisioner":"rancher.io/local-path","volume.kubernetes.io/selected-node":"kind-worker2"},"finalizers":["kubernetes.io/pvc-protection"],"managedFields":[{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:volume.kubernetes.io/selected-node":{}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:42Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:pv.kubernetes.io/bind-completed":{},"f:pv.kubernetes.io/bound-by-controller":{},"f:volume.beta.kubernetes.io/storage-provisioner":{}},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:accessModes":{},"f:resources":{"f:requests":{".":{},"f:storage":{}}},"f:volumeMode":{},"f:volumeName":{}},"f:status":{"f:accessModes":{},"f:capacity":{".":{},"f:storage":{}},"f:phase":{}}}}]},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeName":"pvc-2af3c34f-76d9-4654-928f-8001c6027830","storageClassName":"standard","volumeMode":"Filesystem"},"status":{"phase":"Bound","accessModes":["ReadWriteOnce"],"capacity":{"storage":"2Gi"}}},{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume-cassandra-test-cluster-dc1-rack1-1","namespace":"default","selfLink":"/api/v1/namespaces/default/persistentvolumeclaims/data-volume-cassandra-test-cluster-dc1-rack1-1","uid":"3774dcdb-c986-4c22-b499-16f7209a8423","resourceVersion":"1127","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"annotations":{"pv.kubernetes.io/bind-completed":"yes","pv.kubernetes.io/bound-by-controller":"yes","volume.beta.kubernetes.io/storage-provisioner":"rancher.io/local-path","volume.kubernetes.io/selected-node":"kind-worker"},"finalizers":["kubernetes.io/pvc-protection"],"managedFields":[{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:volume.kubernetes.io/selected-node":{}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:12Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:pv.kubernetes.io/bind-completed":{},"f:pv.kubernetes.io/bound-by-controller":{},"f:volume.beta.kubernetes.io/storage-provisioner":{}},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:accessModes":{},"f:resources":{"f:requests":{".":{},"f:storage":{}}},"f:volumeMode":{},"f:volumeName":{}},"f:status":{"f:accessModes":{},"f:capacity":{".":{},"f:storage":{}},"f:phase":{}}}}]},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeName":"pvc-3774dcdb-c986-4c22-b499-16f7209a8423","storageClassName":"standard","volumeMode":"Filesystem"},"status":{"phase":"Bound","accessModes":["ReadWriteOnce"],"capacity":{"storage":"2Gi"}}}]}
2022/03/21 01:45:52 learn_server.go:256: [SIEVE-BEFORE-WRITE]	20
2022/03/21 01:45:52 learn_server.go:263: [SIEVE-AFTER-WRITE]	20	Delete	persistentvolumeclaim	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume-cassandra-test-cluster-dc1-rack1-1","namespace":"default","selfLink":"/api/v1/namespaces/default/persistentvolumeclaims/data-volume-cassandra-test-cluster-dc1-rack1-1","uid":"3774dcdb-c986-4c22-b499-16f7209a8423","resourceVersion":"1127","creationTimestamp":"2022-03-21T01:43:10Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"annotations":{"pv.kubernetes.io/bind-completed":"yes","pv.kubernetes.io/bound-by-controller":"yes","volume.beta.kubernetes.io/storage-provisioner":"rancher.io/local-path","volume.kubernetes.io/selected-node":"kind-worker"},"finalizers":["kubernetes.io/pvc-protection"],"managedFields":[{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:volume.kubernetes.io/selected-node":{}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:12Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:pv.kubernetes.io/bind-completed":{},"f:pv.kubernetes.io/bound-by-controller":{},"f:volume.beta.kubernetes.io/storage-provisioner":{}},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:accessModes":{},"f:resources":{"f:requests":{".":{},"f:storage":{}}},"f:volumeMode":{},"f:volumeName":{}},"f:status":{"f:accessModes":{},"f:capacity":{".":{},"f:storage":{}},"f:phase":{}}}}]},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeName":"pvc-3774dcdb-c986-4c22-b499-16f7209a8423","storageClassName":"standard","volumeMode":"Filesystem"},"status":{"phase":"Bound","accessModes":["ReadWriteOnce"],"capacity":{"storage":"2Gi"}}}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1642","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1646","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":2,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1642","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1642","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:46:21Z","deletionGracePeriodSeconds":30,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}]}
2022/03/21 01:45:59 learn_server.go:279: [SIEVE-BEFORE-HEAR]	32	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1672","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:45:51Z","deletionGracePeriodSeconds":0,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:45:59 learn_server.go:289: [SIEVE-AFTER-HEAR]	32
2022/03/21 01:45:59 learn_server.go:279: [SIEVE-BEFORE-HEAR]	33	Deleted	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"a171afe0-3fd2-4430-94db-1fa92ec3503d","resourceVersion":"1676","creationTimestamp":"2022-03-21T01:43:10Z","deletionTimestamp":"2022-03-21T01:45:51Z","deletionGracePeriodSeconds":0,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:52Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:45:52Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:13Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.4","podIPs":[{"ip":"10.244.2.4"}],"startTime":"2022-03-21T01:43:13Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:43:14Z","finishedAt":"2022-03-21T01:43:14Z","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9a4951cade7691f2b1abb1406c4684d55934fb03e65d7c3ff7ca7b2799351e38"}],"containerStatuses":[{"name":"cassandra","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:23Z","finishedAt":"2022-03-21T01:45:52Z","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://ac518a3e52b343b4f74a61212e7ac74edb017bf496616b24f95d0ff683630784","started":false},{"name":"sidecar","state":{"terminated":{"exitCode":143,"reason":"Error","startedAt":"2022-03-21T01:43:32Z","finishedAt":"2022-03-21T01:45:51Z","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://26b1a85132dcad6492aa7c5fd23911ce7ad17c2724691e88135eb7677b8523cc","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:45:59 learn_server.go:289: [SIEVE-AFTER-HEAR]	33
2022/03/21 01:45:59 learn_server.go:279: [SIEVE-BEFORE-HEAR]	34	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1678","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:45:59 learn_server.go:289: [SIEVE-AFTER-HEAR]	34
2022/03/21 01:46:10 learn_server.go:279: [SIEVE-BEFORE-HEAR]	35	Updated	cassandradatacenter	{"metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:46:10 learn_server.go:289: [SIEVE-AFTER-HEAR]	35
2022/03/21 01:46:23 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	13
2022/03/21 01:46:23 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	14
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1678","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:23 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:46:24 learn_server.go:256: [SIEVE-BEFORE-WRITE]	21
2022/03/21 01:46:24 learn_server.go:263: [SIEVE-AFTER-WRITE]	21	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:46:24 learn_server.go:256: [SIEVE-BEFORE-WRITE]	22
2022/03/21 01:46:24 learn_server.go:263: [SIEVE-AFTER-WRITE]	22	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	statefulset	default	cassandra-test-cluster-dc1-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1678","generation":3,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-rack-config-rack1	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-rack-config-rack1","uid":"f988517e-85af-4cdc-b226-b9ac3b0760d6","resourceVersion":"1619","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:45:49Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_rackdc_properties":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_rackdc_properties":"# generated by cassandra-operator\nprefer_local=true\ndc=dc1\nrack=rack1\n"}}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:24 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:25 learn_server.go:256: [SIEVE-BEFORE-WRITE]	23
2022/03/21 01:46:25 learn_server.go:263: [SIEVE-AFTER-WRITE]	23	Update	statefulset	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1772","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:46:25 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	14
2022/03/21 01:46:25 learn_server.go:279: [SIEVE-BEFORE-HEAR]	36	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1772","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:46:25 learn_server.go:289: [SIEVE-AFTER-HEAR]	36
2022/03/21 01:46:25 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	15
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1772","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:45:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":3,"replicas":1,"readyReplicas":1,"currentReplicas":1,"updatedReplicas":1,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:25 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:25 learn_server.go:279: [SIEVE-BEFORE-HEAR]	37	Added	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1775","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}
2022/03/21 01:46:25 learn_server.go:289: [SIEVE-AFTER-HEAR]	37
2022/03/21 01:46:25 learn_server.go:279: [SIEVE-BEFORE-HEAR]	38	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1779","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:46:25 learn_server.go:289: [SIEVE-AFTER-HEAR]	38
2022/03/21 01:46:26 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	15
2022/03/21 01:46:26 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	16
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1775","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1775","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}}]}
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1779","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:46:26 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1775","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:26 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	16
2022/03/21 01:46:28 learn_server.go:279: [SIEVE-BEFORE-HEAR]	39	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1803","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"qosClass":"Burstable"}}
2022/03/21 01:46:28 learn_server.go:289: [SIEVE-AFTER-HEAR]	39
2022/03/21 01:46:28 learn_server.go:279: [SIEVE-BEFORE-HEAR]	40	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1805","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:28Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotInitialized","message":"containers with incomplete status: [sysctl-limits]"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"busybox:latest","imageID":""}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:46:28 learn_server.go:289: [SIEVE-AFTER-HEAR]	40
2022/03/21 01:46:30 learn_server.go:279: [SIEVE-BEFORE-HEAR]	41	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1816","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:30Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra sidecar]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"","started":false},{"name":"sidecar","state":{"waiting":{"reason":"PodInitializing"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"","started":false}],"qosClass":"Burstable"}}
2022/03/21 01:46:30 learn_server.go:289: [SIEVE-AFTER-HEAR]	41
2022/03/21 01:46:31 learn_server.go:279: [SIEVE-BEFORE-HEAR]	42	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1829","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:46:31 learn_server.go:289: [SIEVE-AFTER-HEAR]	42
2022/03/21 01:46:52 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	17
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1829","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1829","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"1779","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":1,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1829","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:52 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"1829","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z","reason":"ContainersNotReady","message":"containers with unready status: [cassandra]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":false,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:46:55 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	17
2022/03/21 01:47:38 learn_server.go:279: [SIEVE-BEFORE-HEAR]	43	Updated	pod	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}
2022/03/21 01:47:38 learn_server.go:289: [SIEVE-AFTER-HEAR]	43
2022/03/21 01:47:38 learn_server.go:279: [SIEVE-BEFORE-HEAR]	44	Updated	statefulset	{"metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"2031","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}
2022/03/21 01:47:38 learn_server.go:289: [SIEVE-AFTER-HEAR]	44
2022/03/21 01:47:38 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	18
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"2031","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:38 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:40 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:47:40 learn_server.go:256: [SIEVE-BEFORE-WRITE]	24
2022/03/21 01:47:40 learn_server.go:263: [SIEVE-AFTER-WRITE]	24	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:47:40 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:47:40 learn_server.go:256: [SIEVE-BEFORE-WRITE]	25
2022/03/21 01:47:40 learn_server.go:263: [SIEVE-AFTER-WRITE]	25	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:47:40 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:47:40 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	18
2022/03/21 01:47:55 learn_server.go:238: [SIEVE-BEFORE-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	19
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	cassandradatacenter	default	cassandra-datacenter	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"CassandraDataCenter","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","metadata":{"name":"cassandra-datacenter","namespace":"default","selfLink":"/apis/cassandraoperator.instaclustr.com/v1alpha1/namespaces/default/cassandradatacenters/cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","resourceVersion":"1721","generation":4,"creationTimestamp":"2022-03-21T01:41:38Z","labels":{"app":"cassandra"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"cassandraoperator.instaclustr.com/v1alpha1\",\"cluster\":\"test-cluster\",\"datacenter\":\"dc1\",\"kind\":\"CassandraDataCenter\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"cassandra\"},\"name\":\"cassandra-datacenter\",\"namespace\":\"default\"},\"spec\":{\"cassandraAuth\":{\"authenticator\":\"PasswordAuthenticator\",\"authorizer\":\"CassandraAuthorizer\",\"roleManager\":\"CassandraRoleManager\"},\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"dataVolumeClaimSpec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"2Gi\"}}},\"deletePVCs\":true,\"fsGroup\":999,\"imagePullPolicy\":\"Always\",\"imagePullSecrets\":[{\"name\":\"regcred\"}],\"nodes\":2,\"optimizeKernelParams\":true,\"prometheusSupport\":false,\"resources\":{\"limits\":{\"memory\":\"1Gi\"},\"requests\":{\"memory\":\"1Gi\"}},\"serviceAccountName\":\"cassandra-performance\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\",\"sidecarResources\":{\"limits\":{\"memory\":\"512Mi\"},\"requests\":{\"memory\":\"512Mi\"}}}}\n"},"finalizers":["finalizer.pvcs.cassandraoperator.instaclustr.com"],"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:cluster":{},"f:datacenter":{},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{".":{},"f:cassandraAuth":{".":{},"f:authenticator":{},"f:authorizer":{},"f:roleManager":{}},"f:cassandraImage":{},"f:dataVolumeClaimSpec":{".":{},"f:accessModes":{},"f:resources":{".":{},"f:requests":{".":{},"f:storage":{}}}},"f:deletePVCs":{},"f:fsGroup":{},"f:imagePullPolicy":{},"f:imagePullSecrets":{},"f:optimizeKernelParams":{},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:serviceAccountName":{},"f:sidecarImage":{},"f:sidecarResources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}}}}},{"manager":"cassandra-operator","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizer.pvcs.cassandraoperator.instaclustr.com\"":{}}},"f:status":{}}},{"manager":"kubectl-patch","operation":"Update","apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","time":"2022-03-21T01:46:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:nodes":{}}}}]},"cluster":"test-cluster","datacenter":"dc1","spec":{"nodes":2,"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imagePullPolicy":"Always","imagePullSecrets":[{"name":"regcred"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"sidecarResources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"deletePVCs":true,"dataVolumeClaimSpec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}}},"optimizeKernelParams":true,"cassandraAuth":{"authenticator":"PasswordAuthenticator","authorizer":"CassandraAuthorizer","roleManager":"CassandraRoleManager"},"serviceAccountName":"cassandra-performance","fsGroup":999},"status":{}}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-operator-default-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-operator-default-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-operator-default-config","uid":"ed627c92-682e-4927-905e-9f90ee3bcdca","resourceVersion":"672","creationTimestamp":"2022-03-21T01:41:25Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"cassandraImage\":\"gcr.io/cassandra-operator/cassandra-3.11.9:latest\",\"disk\":\"1Gi\",\"diskMedium\":\"\",\"memory\":\"1Gi\",\"nodes\":\"3\",\"sidecarImage\":\"gcr.io/cassandra-operator/instaclustr-icarus:latest\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator-default-config\",\"namespace\":\"default\"}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandraImage":{},"f:disk":{},"f:diskMedium":{},"f:memory":{},"f:nodes":{},"f:sidecarImage":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}}}}]},"data":{"cassandraImage":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","disk":"1Gi","diskMedium":"","memory":"1Gi","nodes":"3","sidecarImage":"gcr.io/cassandra-operator/instaclustr-icarus:latest"}}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	statefulsetlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","resourceVersion":"2031","generation":4,"creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{"f:matchLabels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:partition":{}},"f:type":{}},"f:volumeClaimTemplates":{}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}}}]},"spec":{"replicas":2,"selector":{"matchLabels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1"}},"spec":{"volumes":[{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"schedulerName":"default-scheduler"}},"volumeClaimTemplates":[{"kind":"PersistentVolumeClaim","apiVersion":"v1","metadata":{"name":"data-volume","creationTimestamp":null},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"2Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}],"serviceName":"cassandra-test-cluster-dc1-seeds","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"partition":0}},"revisionHistoryLimit":10},"status":{"observedGeneration":4,"replicas":2,"readyReplicas":2,"currentReplicas":2,"updatedReplicas":2,"currentRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","updateRevision":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","collisionCount":0}}]}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:55 learn_server.go:291: [SIEVE-AFTER-READ]	List	true	podlist	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{},"items":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-0","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0","uid":"ead2e9d1-b0bd-40cd-85a5-a62bfb2784d8","resourceVersion":"1089","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-0"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:43:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.3\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-0"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker2","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-0","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:45Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:43:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:41:43Z"}],"hostIP":"192.168.16.2","podIP":"10.244.1.3","podIPs":[{"ip":"10.244.1.3"}],"startTime":"2022-03-21T01:41:43Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:41:45Z","finishedAt":"2022-03-21T01:41:45Z","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://9c3e952cf28840e7116bca55d4de08a60448f504713e9110e63dea6167b206ee"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:41:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://262c6ba61972bddfd2abdf9a92d4203757f19ca135ed9ad34ebe440ee32a32c6","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:42:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://77d1adda1e4468d919284d426ad2987835ccf5d319cec7d9fe5e7c3cc04be940","started":true}],"qosClass":"Burstable"}},{"kind":"Pod","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-rack1-1","generateName":"cassandra-test-cluster-dc1-rack1-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-1","uid":"3df18039-264e-4e8f-aa72-e05e2bdc5e1c","resourceVersion":"2026","creationTimestamp":"2022-03-21T01:46:25Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1","cassandra-operator.instaclustr.com/rack":"rack1","controller-revision-hash":"cassandra-test-cluster-dc1-rack1-7d8d8dbfc8","statefulset.kubernetes.io/pod-name":"cassandra-test-cluster-dc1-rack1-1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"cassandra-test-cluster-dc1-rack1","uid":"3e6050ed-e718-495e-8776-1bce55916808","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:46:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{},"f:cassandra-operator.instaclustr.com/rack":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"3e6050ed-e718-495e-8776-1bce55916808\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"cassandra\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"MEMORY_LOCK\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7199,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9042,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:securityContext":{".":{},"f:capabilities":{".":{},"f:add":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/operator-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"sidecar\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":4567,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:memory":{}},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/pod-info\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/lib/cassandra\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"regcred\"}":{".":{},"f:name":{}}},"f:initContainers":{".":{},"k:{\"name\":\"sysctl-limits\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"data-volume\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"operator-config-volume\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"operator-rack-config-volume-rack1\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:items":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"pod-info\"}":{".":{},"f:downwardAPI":{".":{},"f:defaultMode":{},"f:items":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:47:38Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"data-volume","persistentVolumeClaim":{"claimName":"data-volume-cassandra-test-cluster-dc1-rack1-1"}},{"name":"pod-info","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}},{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}},{"path":"name","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}],"defaultMode":420}},{"name":"operator-config-volume","configMap":{"name":"cassandra-test-cluster-dc1-operator-config","items":[{"key":"cassandra_yaml_d_001_operator_overrides_yaml","path":"cassandra.yaml.d/001-operator-overrides.yaml"},{"key":"jvm_options_d_001_jvm_memory_gc_options","path":"jvm.options.d/001-jvm-memory-gc.options"}],"defaultMode":420}},{"name":"operator-rack-config-volume-rack1","configMap":{"name":"cassandra-test-cluster-dc1-rack-config-rack1","items":[{"key":"cassandra_rackdc_properties","path":"cassandra-rackdc.properties"}],"defaultMode":420}},{"name":"cassandra-performance-token-zv7zs","secret":{"secretName":"cassandra-performance-token-zv7zs","defaultMode":420}}],"initContainers":[{"name":"sysctl-limits","image":"busybox:latest","command":["sh","-xuec"],"args":["sysctl -w vm.max_map_count=1048575"],"resources":{},"volumeMounts":[{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"containers":[{"name":"cassandra","image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","args":["/tmp/operator-config","/tmp/cassandra-rack-config"],"ports":[{"name":"internode","containerPort":7000,"protocol":"TCP"},{"name":"internode-tls","containerPort":7001,"protocol":"TCP"},{"name":"cql","containerPort":9042,"protocol":"TCP"},{"name":"jmx","containerPort":7199,"protocol":"TCP"}],"env":[{"name":"MEMORY_LOCK","value":"true"}],"resources":{"limits":{"memory":"1Gi"},"requests":{"memory":"1Gi"}},"volumeMounts":[{"name":"operator-config-volume","mountPath":"/tmp/operator-config"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/usr/bin/cql-readiness-probe"]},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"add":["IPC_LOCK","SYS_RESOURCE"]}}},{"name":"sidecar","image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","ports":[{"name":"http","containerPort":4567,"protocol":"TCP"}],"resources":{"limits":{"memory":"512Mi"},"requests":{"memory":"512Mi"}},"volumeMounts":[{"name":"pod-info","mountPath":"/etc/pod-info"},{"name":"operator-rack-config-volume-rack1","mountPath":"/tmp/cassandra-rack-config"},{"name":"data-volume","mountPath":"/var/lib/cassandra"},{"name":"cassandra-performance-token-zv7zs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cassandra-performance","serviceAccount":"cassandra-performance","nodeName":"kind-worker","securityContext":{"fsGroup":999},"imagePullSecrets":[{"name":"regcred"}],"hostname":"cassandra-test-cluster-dc1-rack1-1","subdomain":"cassandra-test-cluster-dc1-seeds","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:47:38Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-03-21T01:46:28Z"}],"hostIP":"192.168.16.4","podIP":"10.244.2.7","podIPs":[{"ip":"10.244.2.7"}],"startTime":"2022-03-21T01:46:28Z","initContainerStatuses":[{"name":"sysctl-limits","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-03-21T01:46:29Z","finishedAt":"2022-03-21T01:46:29Z","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/busybox:latest","imageID":"docker.io/library/busybox@sha256:caa382c432891547782ce7140fb3b7304613d3b0438834dce1cad68896ab110a","containerID":"containerd://12c515be5385ce7cb097274ccc508b2f07d9b4ebe62ad05f31ec9b515e401e83"}],"containerStatuses":[{"name":"cassandra","state":{"running":{"startedAt":"2022-03-21T01:46:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/cassandra-3.11.9:latest","imageID":"gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570","containerID":"containerd://32e992ca5c8563a375029fbac7018b85e95fca559530e6b53dbe32f16aedd11d","started":true},{"name":"sidecar","state":{"running":{"startedAt":"2022-03-21T01:46:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/cassandra-operator/instaclustr-icarus:latest","imageID":"gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4","containerID":"containerd://d766ea8d2373df3c78d3b56949ce7a1078c8e4a159a0ceca2fff25fe7b9720c8","started":true}],"qosClass":"Burstable"}}]}
2022/03/21 01:47:57 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-nodes	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:47:57 learn_server.go:256: [SIEVE-BEFORE-WRITE]	26
2022/03/21 01:47:57 learn_server.go:263: [SIEVE-AFTER-WRITE]	26	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-nodes","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-nodes","uid":"4acc7f6f-22d4-4819-addd-3da0d9ef6d5d","resourceVersion":"760","creationTimestamp":"2022-03-21T01:41:39Z","ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7199,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}},"k:{\"port\":9042,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"cql","protocol":"TCP","port":9042,"targetPort":9042},{"name":"jmx","protocol":"TCP","port":7199,"targetPort":7199}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None"},"status":{"loadBalancer":{}}}
2022/03/21 01:47:57 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	service	default	cassandra-test-cluster-dc1-seeds	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"Service","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:47:57 learn_server.go:256: [SIEVE-BEFORE-WRITE]	27
2022/03/21 01:47:57 learn_server.go:263: [SIEVE-AFTER-WRITE]	27	Update	service	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"metadata":{"name":"cassandra-test-cluster-dc1-seeds","namespace":"default","selfLink":"/api/v1/namespaces/default/services/cassandra-test-cluster-dc1-seeds","uid":"6ec0d8ed-0aa5-4298-9246-e8f17e496585","resourceVersion":"764","creationTimestamp":"2022-03-21T01:41:39Z","annotations":{"service.alpha.kubernetes.io/tolerate-unready-endpoints":"true"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:service.alpha.kubernetes.io/tolerate-unready-endpoints":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:clusterIP":{},"f:ports":{".":{},"k:{\"port\":7000,\"protocol\":\"TCP\"}":{".":{},"f:name":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:publishNotReadyAddresses":{},"f:selector":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"name":"internode","protocol":"TCP","port":7000,"targetPort":7000}],"selector":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"clusterIP":"None","type":"ClusterIP","sessionAffinity":"None","publishNotReadyAddresses":true},"status":{"loadBalancer":{}}}
2022/03/21 01:47:57 learn_server.go:291: [SIEVE-AFTER-READ]	Get	true	configmap	default	cassandra-test-cluster-dc1-operator-config	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	NoError	{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"cassandra-test-cluster-dc1-operator-config","namespace":"default","selfLink":"/api/v1/namespaces/default/configmaps/cassandra-test-cluster-dc1-operator-config","uid":"6daad70d-23b8-4f3b-8570-3d75e05bf817","resourceVersion":"768","creationTimestamp":"2022-03-21T01:41:39Z","labels":{"app.kubernetes.io/managed-by":"com.instaclustr.cassandra-operator","cassandra-operator.instaclustr.com/cluster":"test-cluster","cassandra-operator.instaclustr.com/datacenter":"dc1"},"ownerReferences":[{"apiVersion":"cassandraoperator.instaclustr.com/v1alpha1","kind":"CassandraDataCenter","name":"cassandra-datacenter","uid":"ef804131-cbb7-44cf-b5b9-960981ad4393","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"cassandra-operator","operation":"Update","apiVersion":"v1","time":"2022-03-21T01:41:39Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cassandra_yaml_d_001_operator_overrides_yaml":{},"f:jvm_options_d_001_jvm_memory_gc_options":{}},"f:metadata":{"f:labels":{".":{},"f:app.kubernetes.io/managed-by":{},"f:cassandra-operator.instaclustr.com/cluster":{},"f:cassandra-operator.instaclustr.com/datacenter":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ef804131-cbb7-44cf-b5b9-960981ad4393\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}}}}]},"data":{"cassandra_yaml_d_001_operator_overrides_yaml":"cluster_name: test-cluster\nlisten_address: null\nrpc_address: 0.0.0.0\nseed_provider:\n- class_name: com.instaclustr.cassandra.k8s.SeedProvider\n  parameters:\n  - service: cassandra-test-cluster-dc1-seeds\nendpoint_snitch: org.apache.cassandra.locator.GossipingPropertyFileSnitch\ndisk_access_mode: mmap\nauthenticator: PasswordAuthenticator\nauthorizer: CassandraAuthorizer\nrole_manager: CassandraRoleManager\n","jvm_options_d_001_jvm_memory_gc_options":"-Xms536870912\n-Xmx536870912\n-Xmn4194304\n-XX:+UseParNewGC\n-XX:+UseConcMarkSweepGC\n-XX:+CMSParallelRemarkEnabled\n-XX:SurvivorRatio=8\n-XX:MaxTenuringThreshold=1\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:CMSWaitDuration=10000\n-XX:+CMSParallelInitialMarkEnabled\n-XX:+CMSEdenChunksRecordAlways\n-XX:+CMSClassUnloadingEnabled\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+CrashOnOutOfMemoryError\n"}}
2022/03/21 01:47:57 learn_server.go:253: [SIEVE-AFTER-RECONCILE]	github.com/instaclustr/cassandra-operator/pkg/controller/cassandradatacenter.(*ReconcileCassandraDataCenter)	19
